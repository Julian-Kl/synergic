(()=>{"use strict";var e={n:n=>{var t=n&&n.__esModule?()=>n.default:()=>n;return e.d(t,{a:t}),t},d:(n,t)=>{for(var r in t)e.o(t,r)&&!e.o(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:t[r]})},o:(e,n)=>Object.prototype.hasOwnProperty.call(e,n)};const n=require("express");var t=e.n(n);const r=require("react");var o=e.n(r);const l=require("react-dom/server"),a=require("react-helmet-async"),i=require("react-router-dom"),c=require("@mui/material/CssBaseline");var u=e.n(c),s=function(e){return o().createElement(o().Fragment,null,o().createElement(u(),null),e.children)};const p=require("react-router"),d=require("@mui/material");var f=function(){return o().createElement(d.Backdrop,{sx:{color:"#fff",zIndex:function(e){return e.zIndex.drawer+1}},open:!0},o().createElement(d.CircularProgress,{color:"inherit"}))},m="http://localhost:1338",v=function(e,n,t,r){return new(t||(t=Promise))((function(o,l){function a(e){try{c(r.next(e))}catch(e){l(e)}}function i(e){try{c(r.throw(e))}catch(e){l(e)}}function c(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,i)}c((r=r.apply(e,n||[])).next())}))},h=function(e,n){var t,r,o,l,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return l={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function i(l){return function(i){return function(l){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,r&&(o=2&l[0]?r.return:l[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,l[1])).done)return o;switch(r=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return a.label++,{value:l[1],done:!1};case 5:a.label++,r=l[1],l=[0];continue;case 7:l=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==l[0]&&2!==l[0])){a=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){a.label=l[1];break}if(6===l[0]&&a.label<o[1]){a.label=o[1],o=l;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(l);break}o[2]&&a.ops.pop(),a.trys.pop();continue}l=n.call(e,a)}catch(e){l=[6,e],r=0}finally{t=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,i])}}},y=function(e,n,t){return v(void 0,void 0,void 0,(function(){var r;return h(this,(function(o){switch(o.label){case 0:return r={mode:"cors",cache:"no-cache",credentials:"same-origin"},n&&Object.assign(r,{method:n}),t&&Object.assign(r,{headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),!0,[4,fetch(e,r)];case 1:return[4,o.sent().json()];case 2:return[2,{data:o.sent(),loading:!1}]}}))}))},b=function(e,n,t,r){return new(t||(t=Promise))((function(o,l){function a(e){try{c(r.next(e))}catch(e){l(e)}}function i(e){try{c(r.throw(e))}catch(e){l(e)}}function c(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,i)}c((r=r.apply(e,n||[])).next())}))},g=function(e,n){var t,r,o,l,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return l={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function i(l){return function(i){return function(l){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,r&&(o=2&l[0]?r.return:l[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,l[1])).done)return o;switch(r=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return a.label++,{value:l[1],done:!1};case 5:a.label++,r=l[1],l=[0];continue;case 7:l=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==l[0]&&2!==l[0])){a=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){a.label=l[1];break}if(6===l[0]&&a.label<o[1]){a.label=o[1],o=l;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(l);break}o[2]&&a.ops.pop(),a.trys.pop();continue}l=n.call(e,a)}catch(e){l=[6,e],r=0}finally{t=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,i])}}},E=function(){return b(void 0,void 0,void 0,(function(){return g(this,(function(e){switch(e.label){case 0:return[4,y(m+"/pages")];case 1:return[2,e.sent()]}}))}))};const w=require("@mui/icons-material/Check");var x=e.n(w),k=function(e){return o().createElement(d.Paper,{elevation:3,style:{position:"absolute",border:"solid 1px rgba(25,118,210, 1)",borderRadius:2,padding:4}},o().createElement(d.Grid,{container:!0},o().createElement(d.Grid,{item:!0,xs:4,style:{padding:0}},o().createElement(d.Button,{color:"error",variant:"text",onClick:function(){return e.saveCanges()}},o().createElement(x(),{fontSize:"small"})))))},C={Headline:{name:"Headline",type:"atoms",props:{variant:"h1",element:"h1",text:"Lorem ipsum dolor sit amet"},propsOptions:{compoundLevelProps:{variant:["h1","h2","h3","h4","h5","h6"],element:["h1","h2","h3","h4","h5","h6"]},pageLevelProps:{text:"string"}},component:function(e){var n="headline headline-"+e.variant;switch(e.element){default:return o().createElement("h1",{className:n},e.text);case"h2":return o().createElement("h2",{className:n},e.text);case"h3":return o().createElement("h3",{className:n},e.text);case"h4":return o().createElement("h4",{className:n},e.text);case"h5":return o().createElement("h5",{className:n},e.text);case"h6":return o().createElement("h6",{className:n},e.text)}},editableComponent:function(e){var n=(0,r.useState)(e.text),t=n[0],l=n[1],a="headline headline-"+e.variant+" headline-editor";return o().createElement(o().Fragment,null,o().createElement("textarea",{className:a,value:t,onChange:function(e){return l(e.target.value)}}),o().createElement(k,{saveCanges:function(){return e.saveChanges(t)}}))}}},S=function(e){var n=e.atom.name;if(n in C){var t=C[n];return o().createElement(t.component,e.atom.props)}return console.log("Component with name "+e.atom.name+" not found"),o().createElement(o().Fragment,null)},P=function(e){return o().createElement(d.Grid,{item:!0,xs:e.gridItem.size},e.gridItem.components.map((function(e,n){return"grid"in e?o().createElement(T,{key:n,compound:e}):o().createElement(S,{key:n,atom:e})})))},T=function(e){return o().createElement(d.Grid,{container:!0,spacing:2},e.compound.grid.map((function(e,n){return o().createElement(P,{key:n,gridItem:e})})))},G=function(e){return o().createElement(o().Fragment,null,e.page.content.map((function(e,n){return o().createElement(T,{key:n,compound:e})})))},O=function(e){return o().createElement(d.Box,{sx:{width:"100%",backgroundColor:"lightgray"}},o().createElement(d.Box,{sx:{maxWidth:240,marginLeft:2}},o().createElement(d.FormControl,{fullWidth:!0},o().createElement(d.InputLabel,{id:"demo-simple-select-label"},"Page"),o().createElement(d.Select,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:e.pageName,label:"Page",onChange:function(n){return e.setPageName(n.target.value)}},e.pages.map((function(n,t){var r=n.name,l=n.route;return o().createElement(d.MenuItem,{value:r,key:t,style:{padding:0}},o().createElement(i.Link,{to:e.url+"/"+l,style:{width:"100%",padding:"6px 16px 6px 16px"}},o().createElement(d.Typography,{variant:"body1",component:"span"},r)))}))))))},A=function(e,n,t,r){return new(t||(t=Promise))((function(o,l){function a(e){try{c(r.next(e))}catch(e){l(e)}}function i(e){try{c(r.throw(e))}catch(e){l(e)}}function c(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,i)}c((r=r.apply(e,n||[])).next())}))},F=function(e,n){var t,r,o,l,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return l={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function i(l){return function(i){return function(l){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,r&&(o=2&l[0]?r.return:l[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,l[1])).done)return o;switch(r=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return a.label++,{value:l[1],done:!1};case 5:a.label++,r=l[1],l=[0];continue;case 7:l=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==l[0]&&2!==l[0])){a=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){a.label=l[1];break}if(6===l[0]&&a.label<o[1]){a.label=o[1],o=l;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(l);break}o[2]&&a.ops.pop(),a.trys.pop();continue}l=n.call(e,a)}catch(e){l=[6,e],r=0}finally{t=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,i])}}},j=function(){var e=(0,r.useState)([]),n=e[0],t=e[1],l=(0,r.useState)(!0),c=l[0],u=l[1],s=(0,p.useRouteMatch)(),d=s.path,m=s.url,v=(0,p.useLocation)(),h=o().useState(""),y=h[0],b=h[1];return(0,r.useEffect)((function(){A(void 0,void 0,void 0,(function(){var e;return F(this,(function(n){switch(n.label){case 0:return[4,E()];case 1:return e=n.sent(),t(e.data),u(!1),[2]}}))})),n.forEach((function(e){m+"/"+e.route===v.pathname&&b(e.name)}))}),[]),o().createElement(i.BrowserRouter,null,c&&o().createElement(f,null),o().createElement(O,{pageName:y,setPageName:b,pages:n,url:m}),o().createElement(p.Switch,null,n.map((function(e,n){return o().createElement(p.Route,{key:n,path:d+"/"+e.route,exact:!0},o().createElement(a.Helmet,null,o().createElement("title",null,e.title),o().createElement("meta",{name:"description",content:"This is the Page Editor"})),o().createElement(G,{page:e}))}))))};const B=require("@mui/material/Box");var z=e.n(B);const I=require("@mui/material/Tab");var R=e.n(I);const L=require("@mui/material/Tabs");var q=e.n(L),M=function(e){var n=(0,i.useLocation)();return o().createElement(z(),{sx:{maxWidth:"100%",borderBottom:2,borderColor:"divider"}},o().createElement(q(),{value:n.pathname,variant:"scrollable",scrollButtons:"auto","aria-label":"navbar"},e.routes.map((function(e){var n=e.path,t=e.name;return o().createElement(R(),{key:n,label:t,component:i.Link,to:n,value:n})}))))},D=function(){return o().createElement("div",null,"Four Oh Four")},H=(0,r.createContext)(null),N=function(e){var n=(0,r.useState)(null),t=n[0],l=n[1],a=(0,r.useMemo)((function(){return{component:t,setComponent:l}}),[t,l]);return o().createElement(H.Provider,{value:a},e.children)},W=(0,r.createContext)(null),U=function(e){var n=(0,r.useState)(null),t=n[0],l=n[1],a=(0,r.useState)(null),i=a[0],c=a[1],u=(0,r.useMemo)((function(){return{component:t,setComponent:l,id:i,setId:c}}),[t,l,i,c]);return o().createElement(W.Provider,{value:u},e.children)},Y=(0,r.createContext)(null),J=function(e){var n=(0,r.useState)(null),t=n[0],l=n[1],a=(0,r.useMemo)((function(){return{template:t,setTemplate:l}}),[t,l]);return o().createElement(Y.Provider,{value:a},e.children)},_="http://localhost:1337",K=function(e,n,t,r){return new(t||(t=Promise))((function(o,l){function a(e){try{c(r.next(e))}catch(e){l(e)}}function i(e){try{c(r.throw(e))}catch(e){l(e)}}function c(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,i)}c((r=r.apply(e,n||[])).next())}))},Q=function(e,n){var t,r,o,l,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return l={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function i(l){return function(i){return function(l){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,r&&(o=2&l[0]?r.return:l[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,l[1])).done)return o;switch(r=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return a.label++,{value:l[1],done:!1};case 5:a.label++,r=l[1],l=[0];continue;case 7:l=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==l[0]&&2!==l[0])){a=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){a.label=l[1];break}if(6===l[0]&&a.label<o[1]){a.label=o[1],o=l;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(l);break}o[2]&&a.ops.pop(),a.trys.pop();continue}l=n.call(e,a)}catch(e){l=[6,e],r=0}finally{t=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,i])}}},V=function(e,n,t){return K(void 0,void 0,void 0,(function(){return Q(this,(function(r){switch(r.label){case 0:return[4,y(_+"/"+n+"/"+e,"PUT",{grid:t})];case 1:return[2,r.sent()]}}))}))},X=function(e,n,t,r){return new(t||(t=Promise))((function(o,l){function a(e){try{c(r.next(e))}catch(e){l(e)}}function i(e){try{c(r.throw(e))}catch(e){l(e)}}function c(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,i)}c((r=r.apply(e,n||[])).next())}))},Z=function(e,n){var t,r,o,l,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return l={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function i(l){return function(i){return function(l){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,r&&(o=2&l[0]?r.return:l[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,l[1])).done)return o;switch(r=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return a.label++,{value:l[1],done:!1};case 5:a.label++,r=l[1],l=[0];continue;case 7:l=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==l[0]&&2!==l[0])){a=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){a.label=l[1];break}if(6===l[0]&&a.label<o[1]){a.label=o[1],o=l;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(l);break}o[2]&&a.ops.pop(),a.trys.pop();continue}l=n.call(e,a)}catch(e){l=[6,e],r=0}finally{t=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,i])}}},$=function(e,n){return X(void 0,void 0,void 0,(function(){return Z(this,(function(t){switch(t.label){case 0:return[4,y(_+"/templates/"+e,"PUT",{organisms:n})];case 1:return[2,t.sent()]}}))}))};const ee=require("@mui/icons-material/Add");var ne=e.n(ee);const te=require("@mui/icons-material/Delete");var re=e.n(te),oe=function(){return oe=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},oe.apply(this,arguments)},le=(0,d.styled)(d.Paper)((function(e){var n=e.theme;return oe(oe({},n.typography.body2),{padding:n.spacing(1),textAlign:"center",color:n.palette.text.secondary,boxShadow:"none",border:"solid 1px "+n.palette.primary.main,":hover":{backgroundColor:n.palette.primary.main,color:"white",cursor:"pointer"}})})),ae=(0,d.styled)(d.Paper)((function(e){var n=e.theme;return oe(oe({},n.typography.body2),{textAlign:"center",boxShadow:"none",border:"solid 1px "+n.palette.primary.main,backgroundColor:n.palette.primary.main,color:"white"})})),ie=(0,d.styled)(d.Paper)((function(e){var n=e.theme;return oe(oe({},n.typography.body2),{textAlign:"center",boxShadow:"none",border:"solid 1px "+n.palette.secondary.main,backgroundColor:n.palette.secondary.main,color:"white"})})),ce=function(e){var n=(0,r.useState)(e.component),t=n[0],l=n[1];return(0,r.useEffect)((function(){if("atoms"===e.component.type){e.component;var n={name:e.component.name,type:e.component.type,props:e.component.props};l(n)}}),[]),e.selected?o().createElement(ae,null,o().createElement(d.Grid,{container:!0},o().createElement(d.Grid,{item:!0,xs:8,style:{padding:8}},e.children," "),o().createElement(d.Grid,{item:!0,xs:4,style:{padding:0}},o().createElement(d.Button,{color:"inherit",onClick:function(){e.id&&e.deleteComponent&&e.deleteComponent(e.id)}},o().createElement(re(),{fontSize:"medium"}))))):e.isAddAble?o().createElement(ie,null,o().createElement(d.Grid,{container:!0},o().createElement(d.Grid,{item:!0,xs:8,style:{padding:8}},e.children," "),o().createElement(d.Grid,{item:!0,xs:4,style:{padding:0}},o().createElement(d.Button,{color:"inherit",onClick:function(){return e.addComponentToCell(t)}},o().createElement(ne(),{fontSize:"medium"}))))):o().createElement(le,null,e.children)},ue=function(e){return o().createElement(o().Fragment,null,Object.keys(C).map((function(n){return o().createElement(d.Grid,{key:C[n].name,item:!0,xs:2},o().createElement(ce,{isAddAble:e.isAddAble,addComponentToCell:e.addComponentToCell,component:C[n]},C[n].name))})))},se=(0,r.createContext)(null),pe=function(e){var n=(0,r.useState)(null),t=n[0],l=n[1],a=(0,r.useState)(null),i=a[0],c=a[1],u=(0,r.useMemo)((function(){return{component:t,setComponent:l,id:i,setId:c}}),[t,l,i,c]);return o().createElement(se.Provider,{value:u},e.children)},de=function(e,n,t,r){return new(t||(t=Promise))((function(o,l){function a(e){try{c(r.next(e))}catch(e){l(e)}}function i(e){try{c(r.throw(e))}catch(e){l(e)}}function c(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,i)}c((r=r.apply(e,n||[])).next())}))},fe=function(e,n){var t,r,o,l,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return l={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function i(l){return function(i){return function(l){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,r&&(o=2&l[0]?r.return:l[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,l[1])).done)return o;switch(r=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return a.label++,{value:l[1],done:!1};case 5:a.label++,r=l[1],l=[0];continue;case 7:l=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==l[0]&&2!==l[0])){a=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){a.label=l[1];break}if(6===l[0]&&a.label<o[1]){a.label=o[1],o=l;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(l);break}o[2]&&a.ops.pop(),a.trys.pop();continue}l=n.call(e,a)}catch(e){l=[6,e],r=0}finally{t=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,i])}}},me=function(e,n){return de(void 0,void 0,void 0,(function(){return fe(this,(function(t){switch(t.label){case 0:return[4,y(_+"/"+n,"POST",{name:e,grid:[]})];case 1:return[2,t.sent()]}}))}))},ve=function(e,n,t,r){return new(t||(t=Promise))((function(o,l){function a(e){try{c(r.next(e))}catch(e){l(e)}}function i(e){try{c(r.throw(e))}catch(e){l(e)}}function c(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,i)}c((r=r.apply(e,n||[])).next())}))},he=function(e,n){var t,r,o,l,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return l={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function i(l){return function(i){return function(l){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,r&&(o=2&l[0]?r.return:l[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,l[1])).done)return o;switch(r=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return a.label++,{value:l[1],done:!1};case 5:a.label++,r=l[1],l=[0];continue;case 7:l=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==l[0]&&2!==l[0])){a=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){a.label=l[1];break}if(6===l[0]&&a.label<o[1]){a.label=o[1],o=l;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(l);break}o[2]&&a.ops.pop(),a.trys.pop();continue}l=n.call(e,a)}catch(e){l=[6,e],r=0}finally{t=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,i])}}},ye=function(e,n){return ve(void 0,void 0,void 0,(function(){return he(this,(function(t){switch(t.label){case 0:return[4,y(_+"/"+n+"/"+e,"DELETE")];case 1:return[2,t.sent()]}}))}))},be=function(e,n,t,r){return new(t||(t=Promise))((function(o,l){function a(e){try{c(r.next(e))}catch(e){l(e)}}function i(e){try{c(r.throw(e))}catch(e){l(e)}}function c(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,i)}c((r=r.apply(e,n||[])).next())}))},ge=function(e,n){var t,r,o,l,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return l={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function i(l){return function(i){return function(l){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,r&&(o=2&l[0]?r.return:l[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,l[1])).done)return o;switch(r=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return a.label++,{value:l[1],done:!1};case 5:a.label++,r=l[1],l=[0];continue;case 7:l=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==l[0]&&2!==l[0])){a=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){a.label=l[1];break}if(6===l[0]&&a.label<o[1]){a.label=o[1],o=l;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(l);break}o[2]&&a.ops.pop(),a.trys.pop();continue}l=n.call(e,a)}catch(e){l=[6,e],r=0}finally{t=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,i])}}};const Ee=require("@mui/icons-material/AddCircle");var we=e.n(Ee);const xe=require("@mui/system"),ke=require("@mui/icons-material/Close");var Ce=e.n(ke),Se=function(e){var n=(0,r.useState)(!1),t=n[0],l=n[1],a=(0,r.useState)(""),i=a[0],c=a[1];return t?o().createElement(d.Grid,{item:!0,xs:"auto",style:{paddingBottom:16,paddingRight:16,backgroundColor:"lightGray",borderRadius:4}},o().createElement(xe.Box,{sx:{flexGrow:1}},o().createElement(d.Grid,{container:!0,spacing:2},o().createElement(d.Grid,{item:!0,xs:"auto"},o().createElement(d.TextField,{id:"outlined-basic",label:"Name",variant:"outlined",size:"small",onChange:function(e){return c(e.target.value)}})),o().createElement(d.Grid,{item:!0,xs:"auto"},o().createElement(d.Button,{variant:"contained",color:"success",onClick:function(){e.createComponent(i),l(!1)}},o().createElement(x(),{fontSize:"medium"})),o().createElement(d.Button,{variant:"contained",color:"error",onClick:function(){return l(!1)}},o().createElement(Ce(),{fontSize:"medium"})))))):o().createElement(d.Grid,{item:!0,xs:3},o().createElement(d.Button,{variant:"contained",onClick:function(){l(!0)}},o().createElement(we(),{fontSize:"medium"})))},Pe=function(e,n,t,r){return new(t||(t=Promise))((function(o,l){function a(e){try{c(r.next(e))}catch(e){l(e)}}function i(e){try{c(r.throw(e))}catch(e){l(e)}}function c(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,i)}c((r=r.apply(e,n||[])).next())}))},Te=function(e,n){var t,r,o,l,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return l={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function i(l){return function(i){return function(l){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,r&&(o=2&l[0]?r.return:l[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,l[1])).done)return o;switch(r=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return a.label++,{value:l[1],done:!1};case 5:a.label++,r=l[1],l=[0];continue;case 7:l=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==l[0]&&2!==l[0])){a=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){a.label=l[1];break}if(6===l[0]&&a.label<o[1]){a.label=o[1],o=l;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(l);break}o[2]&&a.ops.pop(),a.trys.pop();continue}l=n.call(e,a)}catch(e){l=[6,e],r=0}finally{t=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,i])}}},Ge=function(e,n,t){if(t||2===arguments.length)for(var r,o=0,l=n.length;o<l;o++)!r&&o in n||(r||(r=Array.prototype.slice.call(n,0,o)),r[o]=n[o]);return e.concat(r||Array.prototype.slice.call(n))},Oe=function(e){var n=(0,r.useContext)(H),t=(0,r.useContext)(W),l=(0,r.useContext)(se),a=(0,r.useState)([]),i=a[0],c=a[1],u=(0,r.useState)(!0),s=u[0],p=u[1];(0,r.useEffect)((function(){Pe(void 0,void 0,void 0,(function(){var n;return Te(this,(function(t){switch(t.label){case 0:return[4,(r=e.components,be(void 0,void 0,void 0,(function(){return ge(this,(function(e){switch(e.label){case 0:return[4,y(_+"/"+r)];case 1:return[2,e.sent()]}}))})))];case 1:return n=t.sent(),c(n.data),p(!1),[2]}var r}))}))}),[]);var m=function(t){return Pe(void 0,void 0,void 0,(function(){var r,o;return Te(this,(function(a){switch(a.label){case 0:return[4,ye(t,e.components)];case 1:return r=a.sent(),o=i.filter((function(e){return e.id!=r.data.id})),c(Ge([],o,!0)),null==n||n.setComponent(null),null==l||l.setComponent(null),null==l||l.setId(null),[2]}}))}))},v=function(e){var t,r;return e.id===(null===(t=null==n?void 0:n.component)||void 0===t?void 0:t.id)&&e.type===(null===(r=null==n?void 0:n.component)||void 0===r?void 0:r.type)};return o().createElement(o().Fragment,null,s&&o().createElement(f,null),i&&i.map((function(r,a){return o().createElement(d.Grid,{key:r.id,item:!0,xs:2,onClick:function(){return function(e){null==n||n.setComponent(e),null==t||t.setComponent(null),null==t||t.setId(null),null==l||l.setComponent(null),null==l||l.setId(null)}(r)}},o().createElement(ce,{selected:v(r),deleteComponent:m,index:a,id:r.id,isAddAble:e.isAddAble&&!v(r),addComponentToCell:e.addComponentToCell,component:r},r.name))})),e.isCreateable&&o().createElement(Se,{components:e.components,createComponent:function(n){return Pe(void 0,void 0,void 0,(function(){var t;return Te(this,(function(r){switch(r.label){case 0:return[4,me(n,e.components)];case 1:return t=r.sent(),i.push(t.data),c(Ge([],i,!0)),[2]}}))}))}}))},Ae=function(e,n,t,r){return new(t||(t=Promise))((function(o,l){function a(e){try{c(r.next(e))}catch(e){l(e)}}function i(e){try{c(r.throw(e))}catch(e){l(e)}}function c(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,i)}c((r=r.apply(e,n||[])).next())}))},Fe=function(e,n){var t,r,o,l,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return l={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function i(l){return function(i){return function(l){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,r&&(o=2&l[0]?r.return:l[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,l[1])).done)return o;switch(r=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return a.label++,{value:l[1],done:!1};case 5:a.label++,r=l[1],l=[0];continue;case 7:l=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==l[0]&&2!==l[0])){a=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){a.label=l[1];break}if(6===l[0]&&a.label<o[1]){a.label=o[1],o=l;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(l);break}o[2]&&a.ops.pop(),a.trys.pop();continue}l=n.call(e,a)}catch(e){l=[6,e],r=0}finally{t=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,i])}}},je=function(e){var n=(0,r.useContext)(H),t=(0,r.useContext)(W),l=(0,r.useContext)(Y),a=function(e){var r,o,a;return!(!(null==t?void 0:t.component)&&!(null==l?void 0:l.template))&&("molecules"===(null===(r=null==n?void 0:n.component)||void 0===r?void 0:r.type)&&"atoms"===e||("organisms"===(null===(o=null==n?void 0:n.component)||void 0===o?void 0:o.type)&&("atoms"===e||"molecules"===e)||"templates"===(null===(a=null==l?void 0:l.template)||void 0===a?void 0:a.type)))},i=function(e){return Ae(void 0,void 0,void 0,(function(){var r,o,l;return Fe(this,(function(a){switch(a.label){case 0:return(null==n?void 0:n.component)&&null!=(null==t?void 0:t.id)?((r=Object.assign({},null==n?void 0:n.component)).grid[null==t?void 0:t.id].components.push(e),[4,V(null===(o=null==n?void 0:n.component)||void 0===o?void 0:o.id,null===(l=null==n?void 0:n.component)||void 0===l?void 0:l.type,r.grid)]):[3,2];case 1:a.sent().loading||null==n||n.setComponent(r),a.label=2;case 2:return[2]}}))}))};return"atoms"===e.components?o().createElement(d.Box,{sx:{flexGrow:1}},o().createElement(d.Grid,{container:!0,spacing:2},o().createElement(ue,{isAddAble:a("atoms"),addComponentToCell:i}))):o().createElement(d.Box,{sx:{flexGrow:1}},o().createElement(d.Grid,{container:!0,spacing:2},o().createElement(Oe,{components:e.components,isAddAble:a(e.components),addComponentToCell:(null==n?void 0:n.component)?i:function(e){return Ae(void 0,void 0,void 0,(function(){var n,t;return Fe(this,(function(r){switch(r.label){case 0:return(null==l?void 0:l.template)?((n=Object.assign({},null==l?void 0:l.template)).organisms.push(e),[4,$(null===(t=null==l?void 0:l.template)||void 0===t?void 0:t.id,n.organisms)]):[3,2];case 1:r.sent().loading||null==l||l.setTemplate(n),r.label=2;case 2:return[2]}}))}))},isCreateable:e.isCreateable})))},Be=function(){return Be=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},Be.apply(this,arguments)},ze=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]])}return t};function Ie(e){var n=e.children,t=e.value,r=e.index,l=ze(e,["children","value","index"]);return o().createElement("div",Be({role:"tabpanel",hidden:t!==r,id:"simple-tabpanel-"+r,"aria-labelledby":"simple-tab-"+r,style:{width:"100%",overflowY:"scroll"}},l),t===r&&o().createElement(z(),{sx:{p:3}},n))}function Re(e){return{id:"vertical-tab-"+e,"aria-controls":"vertical-tabpanel-"+e}}var Le=function(e){var n=o().useState(e.organisms?2:0),t=n[0],r=n[1];return o().createElement(z(),{sx:{flexGrow:1,bgcolor:"background.paper",display:"flex",height:160,borderBottom:2,borderColor:"#1565c0"}},o().createElement(z(),null,o().createElement(q(),{value:t,onChange:function(e,n){r(n)},orientation:"vertical","aria-label":"component browser"},o().createElement(R(),Be({label:"Atoms"},Re(0),{disabled:e.organisms})),o().createElement(R(),Be({label:"Molecules"},Re(1),{disabled:e.organisms})),o().createElement(R(),Be({label:"Organisms"},Re(2))))),o().createElement(Ie,{value:t,index:0},o().createElement(je,{components:"atoms",isCreateable:e.isCreateable})),o().createElement(Ie,{value:t,index:1},o().createElement(je,{components:"molecules",isCreateable:e.isCreateable})),o().createElement(Ie,{value:t,index:2},o().createElement(je,{components:"organisms",isCreateable:e.isCreateable})))},qe=function(e,n,t,r){return new(t||(t=Promise))((function(o,l){function a(e){try{c(r.next(e))}catch(e){l(e)}}function i(e){try{c(r.throw(e))}catch(e){l(e)}}function c(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,i)}c((r=r.apply(e,n||[])).next())}))},Me=function(e,n){var t,r,o,l,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return l={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function i(l){return function(i){return function(l){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,r&&(o=2&l[0]?r.return:l[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,l[1])).done)return o;switch(r=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return a.label++,{value:l[1],done:!1};case 5:a.label++,r=l[1],l=[0];continue;case 7:l=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==l[0]&&2!==l[0])){a=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){a.label=l[1];break}if(6===l[0]&&a.label<o[1]){a.label=o[1],o=l;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(l);break}o[2]&&a.ops.pop(),a.trys.pop();continue}l=n.call(e,a)}catch(e){l=[6,e],r=0}finally{t=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,i])}}},De=function(){var e,n,t=(0,r.useContext)(H),l=(0,r.useContext)(W),a=(0,r.useContext)(se),i=(0,r.useState)(null),c=i[0],u=i[1];(0,r.useEffect)((function(){var e;if("atoms"===(null===(e=null==a?void 0:a.component)||void 0===e?void 0:e.type)){var n=null==a?void 0:a.component;n.name in C&&u(C[n.name].propsOptions.compoundLevelProps)}console.log(null==a?void 0:a.component)}),[null==a?void 0:a.component]);var s=function(e){var n,r,i="";if("atoms"===(null===(n=null==a?void 0:a.component)||void 0===n?void 0:n.type))for(var c=0,u=Object.entries(null===(r=null==a?void 0:a.component)||void 0===r?void 0:r.props);c<u.length;c++){var s=u[c];s[0]===e.name&&"string"==typeof s[1]&&(i=s[1])}return o().createElement(d.FormControl,{fullWidth:!0},o().createElement(d.InputLabel,{id:"demo-simple-select-label"},e.name),o().createElement(d.Select,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:i,label:e.name,onChange:function(n){return r=null==a?void 0:a.id,o=e.name,i=n.target.value,qe(void 0,void 0,void 0,(function(){var e,n,a,c;return Me(this,(function(u){switch(u.label){case 0:return(null==t?void 0:t.component)?(e=Object.assign({},null==t?void 0:t.component),null!=(null==l?void 0:l.id)&&"atoms"===e.grid[null==l?void 0:l.id].components[r].type&&((n=e.grid[null==l?void 0:l.id].components[r]).props[o]=i,e.grid[null==l?void 0:l.id].components[r]=n),[4,V(null===(a=null==t?void 0:t.component)||void 0===a?void 0:a.id,null===(c=null==t?void 0:t.component)||void 0===c?void 0:c.type,e.grid)]):[3,2];case 1:u.sent().loading||null==t||t.setComponent(e),u.label=2;case 2:return[2]}}))}));var r,o,i}},e.values.map((function(e,n){return o().createElement(d.MenuItem,{value:e,key:n},e)}))))};return o().createElement(o().Fragment,null,(null==a?void 0:a.component)&&o().createElement(o().Fragment,null,o().createElement(d.Typography,{variant:"h6",component:"h3"},"atoms"===(null===(e=null==a?void 0:a.component)||void 0===e?void 0:e.type)?"Atom Settings":"Molecule Settings"),o().createElement(d.Typography,{variant:"body1",component:"p"},"Name: ",null==a?void 0:a.component.name),function(){var e=[];if(c)for(var n=0,t=Object.entries(c);n<t.length;n++){var r=t[n];"object"==typeof r[1]&&e.push({name:r[0],values:r[1]})}return e.map((function(e,n){return o().createElement(o().Fragment,{key:n},s(e))}))}(),o().createElement(d.Divider,null),o().createElement(d.Button,{variant:"contained",color:"error",endIcon:o().createElement(re(),null),onClick:function(){var e;void 0!==(null==a?void 0:a.component)&&(e=null==a?void 0:a.id,qe(void 0,void 0,void 0,(function(){var n,r,o,a,i;return Me(this,(function(c){switch(c.label){case 0:return(null==t?void 0:t.component)?(n=null===(o=null==l?void 0:l.component)||void 0===o?void 0:o.components.filter((function(n,t,r){return t!=e})),null!=(null==l?void 0:l.id)&&n&&l?((r=Object.assign({},null==t?void 0:t.component)).grid[null==l?void 0:l.id].components=n,[4,V(null===(a=null==t?void 0:t.component)||void 0===a?void 0:a.id,null===(i=null==t?void 0:t.component)||void 0===i?void 0:i.type,r.grid)]):[3,2]):[3,2];case 1:c.sent().loading||null==t||t.setComponent(r),c.label=2;case 2:return[2]}}))})))}},"atoms"===(null===(n=null==a?void 0:a.component)||void 0===n?void 0:n.type)?"Delete Atom":"Delete Molecule")))},He=function(e,n,t,r){return new(t||(t=Promise))((function(o,l){function a(e){try{c(r.next(e))}catch(e){l(e)}}function i(e){try{c(r.throw(e))}catch(e){l(e)}}function c(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,i)}c((r=r.apply(e,n||[])).next())}))},Ne=function(e,n){var t,r,o,l,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return l={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function i(l){return function(i){return function(l){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,r&&(o=2&l[0]?r.return:l[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,l[1])).done)return o;switch(r=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return a.label++,{value:l[1],done:!1};case 5:a.label++,r=l[1],l=[0];continue;case 7:l=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==l[0]&&2!==l[0])){a=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){a.label=l[1];break}if(6===l[0]&&a.label<o[1]){a.label=o[1],o=l;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(l);break}o[2]&&a.ops.pop(),a.trys.pop();continue}l=n.call(e,a)}catch(e){l=[6,e],r=0}finally{t=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,i])}}},We=function(){var e,n,t=(0,r.useContext)(W),l=(0,r.useContext)(H),a=(0,r.useState)([]),i=a[0],c=a[1],u=(0,r.useContext)(se);(0,r.useEffect)((function(){var e,n;void 0!==(null===(e=null==l?void 0:l.component)||void 0===e?void 0:e.grid)&&c(null===(n=null==l?void 0:l.component)||void 0===n?void 0:n.grid)}));return o().createElement(o().Fragment,null,(null===(e=null==t?void 0:t.component)||void 0===e?void 0:e.size)&&o().createElement(o().Fragment,null,o().createElement(d.Typography,{variant:"h6",component:"h3"},"Cell Settings"),o().createElement(d.Divider,null),o().createElement(d.Typography,{variant:"body1",component:"p"},"GridSize"),o().createElement(d.Slider,{value:null===(n=null==t?void 0:t.component)||void 0===n?void 0:n.size,onChange:function(e,n){return function(e,n){return He(void 0,void 0,void 0,(function(){var r,o,a,i;return Ne(this,(function(c){switch(c.label){case 0:return t&&t.component&&(null==l?void 0:l.component)?((r=Object.assign({},t.component)).size=e,t.setComponent(r),null==n?[3,2]:((o=Object.assign({},null==l?void 0:l.component)).grid[n]=t.component,[4,V(null===(a=null==l?void 0:l.component)||void 0===a?void 0:a.id,null===(i=null==l?void 0:l.component)||void 0===i?void 0:i.type,o.grid)])):[3,2];case 1:c.sent().loading||null==l||l.setComponent(o),c.label=2;case 2:return[2]}}))}))}(n,null==t?void 0:t.id)},step:1,marks:!0,min:1,max:12}),o().createElement(d.Divider,null),o().createElement(d.Button,{variant:"contained",color:"error",endIcon:o().createElement(re(),null),onClick:function(){return He(void 0,void 0,void 0,(function(){var e,n,r,o;return Ne(this,(function(a){switch(a.label){case 0:return(null==l?void 0:l.component)?(e=i.filter((function(e,n,r){return n!=(null==t?void 0:t.id)})),[4,V(null===(r=null==l?void 0:l.component)||void 0===r?void 0:r.id,null===(o=null==l?void 0:l.component)||void 0===o?void 0:o.type,e)]):[3,2];case 1:a.sent().loading||((n=Object.assign({},null==l?void 0:l.component)).grid=e,null==l||l.setComponent(n),null==t||t.setComponent(null),null==t||t.setId(null),null==u||u.setComponent(null),null==u||u.setId(null)),a.label=2;case 2:return[2]}}))}))}},"Delete Cell")))},Ue=(0,d.styled)(d.Paper)((function(e){return{textAlign:"center",boxShadow:"none",borderRight:"solid 2px "+e.theme.palette.primary.main,borderRadius:0,minHeight:"100%",padding:24}})),Ye=(0,d.styled)(d.Paper)((function(e){return{textAlign:"center",boxShadow:"none",borderLeft:"solid 2px "+e.theme.palette.primary.main,borderRadius:0,minHeight:"100%",padding:24}}));const Je=require("@mui/material/Grid");var _e=e.n(Je);const Ke=require("@mui/material/Paper");var Qe=e.n(Ke);const Ve=require("@mui/material/styles");var Xe=(0,d.styled)(d.Paper)((function(e){return{boxShadow:"none",":hover":{border:"solid 1px "+e.theme.palette.primary.light},border:"solid 1px transparent",borderRadius:0}})),Ze=(0,d.styled)(d.Paper)((function(e){return{boxShadow:"none",border:"solid 1px "+e.theme.palette.primary.light,borderRadius:0}})),$e=(0,d.styled)(d.Paper)((function(e){return{boxShadow:"none",":hover":{border:"solid 1px "+e.theme.palette.secondary.light},border:"solid 1px transparent",borderRadius:0}})),en=(0,d.styled)(d.Paper)((function(e){return{boxShadow:"none",border:"solid 1px "+e.theme.palette.secondary.light,borderRadius:0}})),nn=function(e){var n,t=(0,r.useContext)(se),l=function(){var n=e.component.name;if(n in C){var t=C[n];return o().createElement(t.component,e.component.props)}console.log("Component with name "+e.component.name+" not found")};return e.selectAble?e.selected&&(null==t?void 0:t.id)===e.id&&"atoms"===(null===(n=null==t?void 0:t.component)||void 0===n?void 0:n.type)?o().createElement(en,null,l()):o().createElement($e,{onClick:function(){void 0!==e.id&&(null==t||t.setComponent(e.component),null==t||t.setId(e.id))}},l()):o().createElement(o().Fragment,null,l())},tn=function(e){var n,t=(0,r.useContext)(se),l=function(e){return o().createElement(o().Fragment,null,e.map((function(e,n){if("atoms"===e.type)return o().createElement(nn,{key:n,component:e,selectAble:!1})})))},a=function(){return o().createElement("div",{style:{color:"red"}},"Molecule ",e.component.name," is empty or misses grid")},i=function(){return e.component.grid.length>1?(n=e.component.grid,o().createElement(d.Grid,{container:!0,spacing:2},n.map((function(e,n){return o().createElement(d.Grid,{key:n,item:!0,xs:e.size},l(e.components))})))):1===e.component.grid.length&&12===e.component.grid[0].size?l(e.component.grid[0].components):a();var n};return e.selectAble?e.selected&&(null==t?void 0:t.id)===e.id&&"molecules"===(null===(n=null==t?void 0:t.component)||void 0===n?void 0:n.type)?o().createElement(en,null,i()):o().createElement($e,{onClick:function(){void 0!==e.id&&(null==t||t.setComponent(e.component),null==t||t.setId(e.id))}},i()):o().createElement(o().Fragment,null,i())},rn=function(e){return e.components.length>0?o().createElement(o().Fragment,null,e.components.map((function(n,t){return"atoms"===n.type?o().createElement(nn,{key:t,component:n,selected:e.selected,selectAble:!0,id:t}):o().createElement(tn,{key:t,selected:e.selected,component:n,selectAble:!0,id:t})}))):o().createElement(d.Skeleton,{variant:"text",animation:!1})},on=function(e){return e.selected?o().createElement(Ze,null,o().createElement(rn,{components:e.gridElement.components,selected:e.selected})):o().createElement(Xe,null,o().createElement(rn,{components:e.gridElement.components}))},ln=function(){return ln=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},ln.apply(this,arguments)},an=function(e,n,t,r){return new(t||(t=Promise))((function(o,l){function a(e){try{c(r.next(e))}catch(e){l(e)}}function i(e){try{c(r.throw(e))}catch(e){l(e)}}function c(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,i)}c((r=r.apply(e,n||[])).next())}))},cn=function(e,n){var t,r,o,l,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return l={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function i(l){return function(i){return function(l){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,r&&(o=2&l[0]?r.return:l[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,l[1])).done)return o;switch(r=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return a.label++,{value:l[1],done:!1};case 5:a.label++,r=l[1],l=[0];continue;case 7:l=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==l[0]&&2!==l[0])){a=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){a.label=l[1];break}if(6===l[0]&&a.label<o[1]){a.label=o[1],o=l;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(l);break}o[2]&&a.ops.pop(),a.trys.pop();continue}l=n.call(e,a)}catch(e){l=[6,e],r=0}finally{t=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,i])}}},un=function(e,n,t){if(t||2===arguments.length)for(var r,o=0,l=n.length;o<l;o++)!r&&o in n||(r||(r=Array.prototype.slice.call(n,0,o)),r[o]=n[o]);return e.concat(r||Array.prototype.slice.call(n))},sn=(0,Ve.styled)(Qe())((function(e){var n=e.theme;return ln(ln({},n.typography.body2),{color:n.palette.text.secondary,boxShadow:"none",padding:0,borderRadius:0})})),pn=function(){var e,n,t=(0,r.useContext)(H),l=(0,r.useContext)(W),a=(0,r.useState)([]),i=a[0],c=a[1],u=(0,r.useState)(12),s=u[0],p=u[1];(0,r.useEffect)((function(){var e,n,r,o;void 0!==(null===(e=null==t?void 0:t.component)||void 0===e?void 0:e.grid)&&c(null===(n=null==t?void 0:t.component)||void 0===n?void 0:n.grid),"molecules"===(null===(r=null==t?void 0:t.component)||void 0===r?void 0:r.type)?p(6):"organisms"===(null===(o=null==t?void 0:t.component)||void 0===o?void 0:o.type)&&p(12)}),[null==t?void 0:t.component]);return o().createElement(o().Fragment,null,(null==t?void 0:t.component)&&o().createElement(o().Fragment,null,o().createElement(z(),{sx:{flexGrow:1}},o().createElement(_e(),{container:!0,spacing:1},o().createElement(_e(),{item:!0,xs:"auto"},o().createElement(d.Typography,{variant:"body1"},"Display Width")),o().createElement(_e(),{item:!0,xs:2},o().createElement(d.Slider,{value:s,onChange:function(e,n){p(n)},step:1,marks:!0,min:1,max:12})))),o().createElement(_e(),{container:!0,spacing:0,columns:12,style:{paddingTop:40,paddingLeft:0,height:700,backgroundColor:"lightgray",overflowY:"scroll"}},o().createElement(_e(),{item:!0,xs:s,style:{marginLeft:"auto",marginRight:"auto"}},o().createElement(sn,null,o().createElement(z(),{sx:{flexGrow:1}},o().createElement(_e(),{container:!0,spacing:0},(null===(e=null==t?void 0:t.component)||void 0===e?void 0:e.grid)&&(null===(n=null==t?void 0:t.component)||void 0===n?void 0:n.grid.map((function(e,n){var t;return(null==l?void 0:l.id)!=n?o().createElement(_e(),{key:n,item:!0,xs:e.size,onClick:function(){return function(e,n){null==l||l.setComponent(e),null==l||l.setId(n)}(e,n)}},o().createElement(on,{key:n,gridElement:e,selected:n===(null==l?void 0:l.id)})):o().createElement(_e(),{key:n,item:!0,xs:null===(t=null==l?void 0:l.component)||void 0===t?void 0:t.size},o().createElement(on,{key:n,gridElement:e,selected:n===(null==l?void 0:l.id)}))}))),o().createElement(_e(),{item:!0,xs:2,style:{display:"flex",justifyContent:"flex-start"}},o().createElement(d.Button,{variant:"contained",onClick:function(){return an(void 0,void 0,void 0,(function(){var e,n,r;return cn(this,(function(o){switch(o.label){case 0:return(null==t?void 0:t.component)?(e={size:3,components:[]},null!=i?i.push(e):c([e]),[4,V(null===(n=null==t?void 0:t.component)||void 0===n?void 0:n.id,null===(r=null==t?void 0:t.component)||void 0===r?void 0:r.type,i)]):[3,2];case 1:o.sent().loading||c(un([],i,!0)),o.label=2;case 2:return[2]}}))}))}},o().createElement(we(),{fontSize:"medium"}))))))))))},dn=(0,r.createContext)(null),fn=function(e){var n=(0,r.useState)(null),t=n[0],l=n[1],a=(0,r.useMemo)((function(){return{page:t,setPage:l}}),[t,l]);return o().createElement(dn.Provider,{value:a},e.children)},mn=function(e,n,t,r){return new(t||(t=Promise))((function(o,l){function a(e){try{c(r.next(e))}catch(e){l(e)}}function i(e){try{c(r.throw(e))}catch(e){l(e)}}function c(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,i)}c((r=r.apply(e,n||[])).next())}))},vn=function(e,n){var t,r,o,l,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return l={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function i(l){return function(i){return function(l){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,r&&(o=2&l[0]?r.return:l[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,l[1])).done)return o;switch(r=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return a.label++,{value:l[1],done:!1};case 5:a.label++,r=l[1],l=[0];continue;case 7:l=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==l[0]&&2!==l[0])){a=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){a.label=l[1];break}if(6===l[0]&&a.label<o[1]){a.label=o[1],o=l;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(l);break}o[2]&&a.ops.pop(),a.trys.pop();continue}l=n.call(e,a)}catch(e){l=[6,e],r=0}finally{t=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,i])}}},hn=function(e,n,t){return mn(void 0,void 0,void 0,(function(){var r;return vn(this,(function(o){switch(o.label){case 0:return[4,y(m+"/pages/"+e,"PUT",(r={},r[n]=t,r))];case 1:return[2,o.sent()]}}))}))},yn=function(e,n,t,r){return new(t||(t=Promise))((function(o,l){function a(e){try{c(r.next(e))}catch(e){l(e)}}function i(e){try{c(r.throw(e))}catch(e){l(e)}}function c(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,i)}c((r=r.apply(e,n||[])).next())}))},bn=function(e,n){var t,r,o,l,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return l={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function i(l){return function(i){return function(l){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,r&&(o=2&l[0]?r.return:l[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,l[1])).done)return o;switch(r=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return a.label++,{value:l[1],done:!1};case 5:a.label++,r=l[1],l=[0];continue;case 7:l=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==l[0]&&2!==l[0])){a=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){a.label=l[1];break}if(6===l[0]&&a.label<o[1]){a.label=o[1],o=l;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(l);break}o[2]&&a.ops.pop(),a.trys.pop();continue}l=n.call(e,a)}catch(e){l=[6,e],r=0}finally{t=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,i])}}},gn=function(e,n,t,r){return new(t||(t=Promise))((function(o,l){function a(e){try{c(r.next(e))}catch(e){l(e)}}function i(e){try{c(r.throw(e))}catch(e){l(e)}}function c(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,i)}c((r=r.apply(e,n||[])).next())}))},En=function(e,n){var t,r,o,l,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return l={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function i(l){return function(i){return function(l){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,r&&(o=2&l[0]?r.return:l[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,l[1])).done)return o;switch(r=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return a.label++,{value:l[1],done:!1};case 5:a.label++,r=l[1],l=[0];continue;case 7:l=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==l[0]&&2!==l[0])){a=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){a.label=l[1];break}if(6===l[0]&&a.label<o[1]){a.label=o[1],o=l;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(l);break}o[2]&&a.ops.pop(),a.trys.pop();continue}l=n.call(e,a)}catch(e){l=[6,e],r=0}finally{t=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,i])}}},wn=function(e,n,t,r){return new(t||(t=Promise))((function(o,l){function a(e){try{c(r.next(e))}catch(e){l(e)}}function i(e){try{c(r.throw(e))}catch(e){l(e)}}function c(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,i)}c((r=r.apply(e,n||[])).next())}))},xn=function(e,n){var t,r,o,l,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return l={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function i(l){return function(i){return function(l){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,r&&(o=2&l[0]?r.return:l[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,l[1])).done)return o;switch(r=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return a.label++,{value:l[1],done:!1};case 5:a.label++,r=l[1],l=[0];continue;case 7:l=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==l[0]&&2!==l[0])){a=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){a.label=l[1];break}if(6===l[0]&&a.label<o[1]){a.label=o[1],o=l;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(l);break}o[2]&&a.ops.pop(),a.trys.pop();continue}l=n.call(e,a)}catch(e){l=[6,e],r=0}finally{t=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,i])}}},kn=function(){return wn(void 0,void 0,void 0,(function(){return xn(this,(function(e){switch(e.label){case 0:return[4,y(_+"/templates")];case 1:return[2,e.sent()]}}))}))},Cn=function(e,n,t,r){return new(t||(t=Promise))((function(o,l){function a(e){try{c(r.next(e))}catch(e){l(e)}}function i(e){try{c(r.throw(e))}catch(e){l(e)}}function c(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,i)}c((r=r.apply(e,n||[])).next())}))},Sn=function(e,n){var t,r,o,l,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return l={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function i(l){return function(i){return function(l){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,r&&(o=2&l[0]?r.return:l[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,l[1])).done)return o;switch(r=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return a.label++,{value:l[1],done:!1};case 5:a.label++,r=l[1],l=[0];continue;case 7:l=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==l[0]&&2!==l[0])){a=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){a.label=l[1];break}if(6===l[0]&&a.label<o[1]){a.label=o[1],o=l;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(l);break}o[2]&&a.ops.pop(),a.trys.pop();continue}l=n.call(e,a)}catch(e){l=[6,e],r=0}finally{t=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,i])}}},Pn=function(){var e,n,t,l,a,i,c=(0,r.useContext)(dn),u=(0,r.useState)([]),s=u[0],p=u[1],v=(0,r.useState)(!0),h=v[0],b=v[1];(0,r.useEffect)((function(){Cn(void 0,void 0,void 0,(function(){var e;return Sn(this,(function(n){switch(n.label){case 0:return[4,kn()];case 1:return e=n.sent(),p(e.data),b(!1),[2]}}))}))}),[]);var g=function(e){var n,t,r=function(e){return"atoms"===e.type?{name:(t=e).name,props:t.props}:"molecules"===e.type?(n={grid:[]},e.grid.map((function(e){var t={size:e.size,components:o(e.components)};n.grid.push(t)})),n):void("organisms"===e.type&&console.log("error, componente is organism"));var n,t},o=function(e){var n=[];return e.map((function(e){var t=r(e);t&&n.push(t)})),n};return n=e.organisms,t=[],n.map((function(e){var n={grid:[]};e.grid.map((function(e){var t={size:e.size,components:o(e.components)};n.grid.push(t)})),t.push(n)})),t},E=function(e,n){return Cn(void 0,void 0,void 0,(function(){var t,r;return Sn(this,(function(o){switch(o.label){case 0:return(null==c?void 0:c.page)?((t=Object.assign({},null==c?void 0:c.page))[e]=n,[4,hn(null===(r=null==c?void 0:c.page)||void 0===r?void 0:r.id,e,t[e])]):[3,2];case 1:o.sent().loading||null==c||c.setPage(t),o.label=2;case 2:return[2]}}))}))};return o().createElement(o().Fragment,null,h&&o().createElement(f,null),(null==c?void 0:c.page)&&o().createElement(d.Box,{sx:{flexGrow:1,bgcolor:"background.paper",display:"flex",height:"auto",padding:2,borderBottom:2,borderColor:"#1565c0"}},o().createElement(d.Box,{sx:{minWidth:120}},o().createElement(d.Typography,{variant:"h6",component:"h3"},"Settings")),o().createElement(d.Box,{sx:{minWidth:240}},o().createElement(d.FormControl,{fullWidth:!0},o().createElement(d.InputLabel,{id:"demo-simple-select-label"},"Template"),o().createElement(d.Select,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:(null===(e=null==c?void 0:c.page)||void 0===e?void 0:e.templateId)?null===(n=null==c?void 0:c.page)||void 0===n?void 0:n.templateId:"",label:"Template",onChange:function(e){return function(e){return Cn(void 0,void 0,void 0,(function(){var n,t,r,o;return Sn(this,(function(l){switch(l.label){case 0:return(null==c?void 0:c.page)?[4,(s=e.target.value,gn(void 0,void 0,void 0,(function(){return En(this,(function(e){switch(e.label){case 0:return[4,y(_+"/templates/"+s)];case 1:return[2,e.sent()]}}))})))]:[3,3];case 1:return(n=l.sent()).loading?[3,3]:(t=n.data,(r=Object.assign({},null==c?void 0:c.page)).templateId=String(t.id),r.content=g(t),g(t),[4,(a=null===(o=null==c?void 0:c.page)||void 0===o?void 0:o.id,i=r.templateId,u=r.content,yn(void 0,void 0,void 0,(function(){return bn(this,(function(e){switch(e.label){case 0:return[4,y(m+"/pages/"+a,"PUT",{templateId:i,content:u})];case 1:return[2,e.sent()]}}))})))]);case 2:l.sent().loading||null==c||c.setPage(r),l.label=3;case 3:return[2]}var a,i,u,s}))}))}(e)}},s.map((function(e,n){return o().createElement(d.MenuItem,{key:n,value:e.id},e.name)}))))),o().createElement(d.Box,{sx:{marginLeft:4}},o().createElement(d.TextField,{label:"Route",color:"primary",value:(null===(t=null==c?void 0:c.page)||void 0===t?void 0:t.route)?null===(l=null==c?void 0:c.page)||void 0===l?void 0:l.route:"",onChange:function(e){return E("route",e.target.value)}})),o().createElement(d.Box,{sx:{marginLeft:4}},o().createElement(d.TextField,{label:"Title",color:"primary",value:(null===(a=null==c?void 0:c.page)||void 0===a?void 0:a.title)?null===(i=null==c?void 0:c.page)||void 0===i?void 0:i.title:"",onChange:function(e){return E("title",e.target.value)}}))))},Tn=function(e,n,t,r){return new(t||(t=Promise))((function(o,l){function a(e){try{c(r.next(e))}catch(e){l(e)}}function i(e){try{c(r.throw(e))}catch(e){l(e)}}function c(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,i)}c((r=r.apply(e,n||[])).next())}))},Gn=function(e,n){var t,r,o,l,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return l={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function i(l){return function(i){return function(l){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,r&&(o=2&l[0]?r.return:l[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,l[1])).done)return o;switch(r=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return a.label++,{value:l[1],done:!1};case 5:a.label++,r=l[1],l=[0];continue;case 7:l=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==l[0]&&2!==l[0])){a=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){a.label=l[1];break}if(6===l[0]&&a.label<o[1]){a.label=o[1],o=l;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(l);break}o[2]&&a.ops.pop(),a.trys.pop();continue}l=n.call(e,a)}catch(e){l=[6,e],r=0}finally{t=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,i])}}},On=function(e){return Tn(void 0,void 0,void 0,(function(){return Gn(this,(function(n){switch(n.label){case 0:return[4,y(m+"/pages","POST",{name:e,title:e,route:encodeURIComponent(e),template:"",content:[]})];case 1:return[2,n.sent()]}}))}))},An=function(e,n,t,r){return new(t||(t=Promise))((function(o,l){function a(e){try{c(r.next(e))}catch(e){l(e)}}function i(e){try{c(r.throw(e))}catch(e){l(e)}}function c(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,i)}c((r=r.apply(e,n||[])).next())}))},Fn=function(e,n){var t,r,o,l,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return l={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function i(l){return function(i){return function(l){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,r&&(o=2&l[0]?r.return:l[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,l[1])).done)return o;switch(r=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return a.label++,{value:l[1],done:!1};case 5:a.label++,r=l[1],l=[0];continue;case 7:l=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==l[0]&&2!==l[0])){a=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){a.label=l[1];break}if(6===l[0]&&a.label<o[1]){a.label=o[1],o=l;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(l);break}o[2]&&a.ops.pop(),a.trys.pop();continue}l=n.call(e,a)}catch(e){l=[6,e],r=0}finally{t=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,i])}}},jn=function(e){return An(void 0,void 0,void 0,(function(){return Fn(this,(function(n){switch(n.label){case 0:return[4,y(m+"/pages/"+e,"DELETE")];case 1:return[2,n.sent()]}}))}))},Bn=function(e){var n=(0,r.useState)(!1),t=n[0],l=n[1],a=(0,r.useState)(""),i=a[0],c=a[1];return t?o().createElement(d.Grid,{item:!0,xs:12,style:{marginTop:32,paddingBottom:16,paddingTop:16,paddingRight:16,backgroundColor:"lightGray",borderRadius:4}},o().createElement(xe.Box,{sx:{flexGrow:1}},o().createElement(d.Grid,{container:!0,spacing:2},o().createElement(d.Grid,{item:!0,xs:12},o().createElement(d.TextField,{id:"outlined-basic",label:"Name",variant:"outlined",size:"small",onChange:function(e){return c(e.target.value)}})),o().createElement(d.Grid,{item:!0,xs:12},o().createElement(d.Button,{variant:"contained",color:"success",onClick:function(){e.createComponent(i),l(!1)}},o().createElement(x(),{fontSize:"medium"})),o().createElement(d.Button,{variant:"contained",color:"error",onClick:function(){return l(!1)}},o().createElement(Ce(),{fontSize:"medium"})))))):o().createElement(d.Grid,{item:!0,xs:12},o().createElement(d.Button,{variant:"contained",onClick:function(){l(!0)}},o().createElement(we(),{fontSize:"medium"})))},zn=function(){return zn=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},zn.apply(this,arguments)},In=(0,d.styled)(d.Paper)((function(e){var n=e.theme;return zn(zn({},n.typography.body2),{padding:n.spacing(1),textAlign:"center",color:n.palette.text.secondary,boxShadow:"none",border:"solid 1px "+n.palette.primary.main,":hover":{backgroundColor:n.palette.primary.main,color:"white",cursor:"pointer"}})})),Rn=(0,d.styled)(d.Paper)((function(e){var n=e.theme;return zn(zn({},n.typography.body2),{textAlign:"center",boxShadow:"none",border:"solid 1px "+n.palette.primary.main,backgroundColor:n.palette.primary.main,color:"white"})})),Ln=function(e){return e.selected?o().createElement(Rn,null,o().createElement(d.Grid,{container:!0},o().createElement(d.Grid,{item:!0,xs:8,style:{padding:8}},e.children," "),o().createElement(d.Grid,{item:!0,xs:4,style:{padding:0}},o().createElement(d.Button,{color:"inherit",onClick:function(){e.id&&e.deletePage&&e.deletePage(e.id)}},o().createElement(re(),{fontSize:"medium"}))))):o().createElement(In,null,e.children)},qn=function(e,n,t,r){return new(t||(t=Promise))((function(o,l){function a(e){try{c(r.next(e))}catch(e){l(e)}}function i(e){try{c(r.throw(e))}catch(e){l(e)}}function c(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,i)}c((r=r.apply(e,n||[])).next())}))},Mn=function(e,n){var t,r,o,l,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return l={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function i(l){return function(i){return function(l){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,r&&(o=2&l[0]?r.return:l[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,l[1])).done)return o;switch(r=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return a.label++,{value:l[1],done:!1};case 5:a.label++,r=l[1],l=[0];continue;case 7:l=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==l[0]&&2!==l[0])){a=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){a.label=l[1];break}if(6===l[0]&&a.label<o[1]){a.label=o[1],o=l;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(l);break}o[2]&&a.ops.pop(),a.trys.pop();continue}l=n.call(e,a)}catch(e){l=[6,e],r=0}finally{t=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,i])}}},Dn=function(e,n,t){if(t||2===arguments.length)for(var r,o=0,l=n.length;o<l;o++)!r&&o in n||(r||(r=Array.prototype.slice.call(n,0,o)),r[o]=n[o]);return e.concat(r||Array.prototype.slice.call(n))},Hn=function(){var e=(0,r.useContext)(dn),n=(0,r.useState)([]),t=n[0],l=n[1],a=(0,r.useState)(!0),i=a[0],c=a[1];(0,r.useEffect)((function(){qn(void 0,void 0,void 0,(function(){var e;return Mn(this,(function(n){switch(n.label){case 0:return[4,E()];case 1:return e=n.sent(),l(e.data),c(!1),[2]}}))}))}),[e]);var u=function(n){return qn(void 0,void 0,void 0,(function(){var r,o;return Mn(this,(function(a){switch(a.label){case 0:return[4,jn(n)];case 1:return r=a.sent(),o=t.filter((function(e){return e.id!=r.data.id})),l(Dn([],o,!0)),null==e||e.setPage(null),[2]}}))}))},s=function(n){var t;return n.id===(null===(t=null==e?void 0:e.page)||void 0===t?void 0:t.id)};return o().createElement(o().Fragment,null,i&&o().createElement(f,null),o().createElement(d.Grid,{container:!0,spacing:2},t&&t.map((function(n){return o().createElement(d.Grid,{key:n.id,item:!0,xs:12,onClick:function(){return function(n){null==e||e.setPage(n)}(n)}},o().createElement(Ln,{id:n.id,deletePage:u,selected:s(n)},n.name))})),o().createElement(Bn,{components:"templates",createComponent:function(e){return qn(void 0,void 0,void 0,(function(){var n;return Mn(this,(function(r){switch(r.label){case 0:return[4,On(e)];case 1:return n=r.sent(),t.push(n.data),l(Dn([],t,!0)),[2]}}))}))}})))};const Nn=require("@mui/styled-engine");var Wn=e.n(Nn),Un=(0,r.createContext)(null),Yn=function(e){var n=(0,r.useState)(null),t=n[0],l=n[1],a=(0,r.useState)(null),i=a[0],c=a[1],u=(0,r.useMemo)((function(){return{atom:t,setAtom:l,locator:i,setLocator:c}}),[t,l,i,c]);return o().createElement(Un.Provider,{value:u},e.children)},Jn=function(e,n,t,r){return new(t||(t=Promise))((function(o,l){function a(e){try{c(r.next(e))}catch(e){l(e)}}function i(e){try{c(r.throw(e))}catch(e){l(e)}}function c(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,i)}c((r=r.apply(e,n||[])).next())}))},_n=function(e,n){var t,r,o,l,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return l={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function i(l){return function(i){return function(l){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,r&&(o=2&l[0]?r.return:l[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,l[1])).done)return o;switch(r=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return a.label++,{value:l[1],done:!1};case 5:a.label++,r=l[1],l=[0];continue;case 7:l=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==l[0]&&2!==l[0])){a=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){a.label=l[1];break}if(6===l[0]&&a.label<o[1]){a.label=o[1],o=l;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(l);break}o[2]&&a.ops.pop(),a.trys.pop();continue}l=n.call(e,a)}catch(e){l=[6,e],r=0}finally{t=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,i])}}},Kn=function(e,n,t,r){return new(t||(t=Promise))((function(o,l){function a(e){try{c(r.next(e))}catch(e){l(e)}}function i(e){try{c(r.throw(e))}catch(e){l(e)}}function c(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,i)}c((r=r.apply(e,n||[])).next())}))},Qn=function(e,n){var t,r,o,l,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return l={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function i(l){return function(i){return function(l){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,r&&(o=2&l[0]?r.return:l[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,l[1])).done)return o;switch(r=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return a.label++,{value:l[1],done:!1};case 5:a.label++,r=l[1],l=[0];continue;case 7:l=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==l[0]&&2!==l[0])){a=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){a.label=l[1];break}if(6===l[0]&&a.label<o[1]){a.label=o[1],o=l;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(l);break}o[2]&&a.ops.pop(),a.trys.pop();continue}l=n.call(e,a)}catch(e){l=[6,e],r=0}finally{t=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,i])}}},Vn=function(e,n,t){if(t||2===arguments.length)for(var r,o=0,l=n.length;o<l;o++)!r&&o in n||(r||(r=Array.prototype.slice.call(n,0,o)),r[o]=n[o]);return e.concat(r||Array.prototype.slice.call(n))},Xn=Wn()(d.Paper)((function(){return{boxShadow:"none",":hover":{border:"solid 1px rgba(25,118,210, .5)"},border:"solid 1px transparent",borderRadius:0}})),Zn=Wn()(d.Paper)((function(){return{boxShadow:"none",border:"solid 1px rgba(25,118,210, .5)",borderRadius:0}})),$n=function(e){var n=(0,r.useContext)(dn),t=(0,r.useContext)(Un),l=function(){null==t||t.setAtom(e.component),null==t||t.setLocator(e.locator)};return(null==t?void 0:t.locator)===e.locator?o().createElement(Zn,{onClick:l},function(){var r;if(null==t?void 0:t.atom){var l=null===(r=null==t?void 0:t.atom)||void 0===r?void 0:r.name;if(l in C){var a=C[l];if(null==n?void 0:n.page){var i=null==n?void 0:n.page,c=[];c.push(i),e.locator.forEach((function(e){i=i[e],c.push(i)}));var u=void 0;return"text"in i.props?(u=a.editableComponent,i.props.saveChanges=function(e){return Kn(void 0,void 0,void 0,(function(){var r,o,l;return Qn(this,(function(a){switch(a.label){case 0:return i.props.text=e,r=Vn([],c,!0).reverse(),o=i.props,r.forEach((function(e){o=e})),l=o,(null==n?void 0:n.page)?[4,(u=n.page.id,s=l.content,Jn(void 0,void 0,void 0,(function(){return _n(this,(function(e){switch(e.label){case 0:return[4,y(m+"/pages/"+u,"PUT",{content:s})];case 1:return[2,e.sent()]}}))})))]:[3,2];case 1:a.sent().loading||(null==n||n.setPage(l),t.setAtom(null),t.setLocator(null)),a.label=2;case 2:return[2]}var u,s}))}))}):u=a.component,o().createElement(u,i.props)}console.log("No page currently edited")}}}()):o().createElement(Xn,{onClick:l},function(){var n=e.component.name;if(n in C){var t=C[n];return o().createElement(t.component,e.component.props)}console.log("Component with name "+e.component.name+" not found")}())},et=function(e){return o().createElement(d.Grid,{item:!0,xs:e.gridItem.size},e.gridItem.components.map((function(n,t){return"grid"in n?o().createElement(nt,{key:t,component:n,locator:e.locator.concat(["components",t])}):"name"in n?o().createElement($n,{key:t,component:n,locator:e.locator.concat(["components",t])}):void 0})))},nt=function(e){return o().createElement(d.Grid,{container:!0,spacing:2},e.component.grid.map((function(n,t){return o().createElement(et,{key:t,gridItem:n,locator:e.locator.concat(["grid",t])})})))},tt=function(){var e,n=(0,r.useContext)(dn);return o().createElement(o().Fragment,null,null===(e=null==n?void 0:n.page)||void 0===e?void 0:e.content.map((function(e,n){return o().createElement(nt,{key:n,component:e,locator:["content",n]})})))},rt=function(){return rt=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},rt.apply(this,arguments)},ot=function(e,n,t,r){return new(t||(t=Promise))((function(o,l){function a(e){try{c(r.next(e))}catch(e){l(e)}}function i(e){try{c(r.throw(e))}catch(e){l(e)}}function c(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,i)}c((r=r.apply(e,n||[])).next())}))},lt=function(e,n){var t,r,o,l,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return l={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function i(l){return function(i){return function(l){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,r&&(o=2&l[0]?r.return:l[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,l[1])).done)return o;switch(r=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return a.label++,{value:l[1],done:!1};case 5:a.label++,r=l[1],l=[0];continue;case 7:l=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==l[0]&&2!==l[0])){a=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){a.label=l[1];break}if(6===l[0]&&a.label<o[1]){a.label=o[1],o=l;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(l);break}o[2]&&a.ops.pop(),a.trys.pop();continue}l=n.call(e,a)}catch(e){l=[6,e],r=0}finally{t=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,i])}}},at=function(e){return o().createElement(d.Typography,{variant:"body1",component:"p",align:"left"},e.name,o().createElement(d.Button,{color:"inherit",variant:"text",onClick:function(){return e.deleteFunction()}},o().createElement(re(),{fontSize:"small"})))},it=function(){var e,n,t,l,a,i=(0,r.useContext)(W),c=(0,r.useContext)(H),u=(0,r.useContext)(Y),s=[];(null===(e=null==i?void 0:i.component)||void 0===e?void 0:e.components)?(s=null===(n=null==i?void 0:i.component)||void 0===n?void 0:n.components,a=!1):(null===(t=null==u?void 0:u.template)||void 0===t?void 0:t.organisms)&&(s=null===(l=null==u?void 0:u.template)||void 0===l?void 0:l.organisms,a=!0);return o().createElement(o().Fragment,null,o().createElement(d.Typography,{variant:"h6",component:"h3"},"Cell Children"),o().createElement(d.Divider,null),s.map((function(e,n){return o().createElement(o().Fragment,{key:n},o().createElement(at,{name:e.name,id:n,deleteFunction:a?function(){return e=n,ot(void 0,void 0,void 0,(function(){var n,t,r;return lt(this,(function(o){switch(o.label){case 0:return(null==u?void 0:u.template)?(n=null===(r=null==u?void 0:u.template)||void 0===r?void 0:r.organisms.filter((function(n,t,r){return t!=e})),(t=Object.assign({},null==u?void 0:u.template)).organisms=n,[4,$(u.template.id,t.organisms)]):[3,2];case 1:o.sent().loading||null==u||u.setTemplate(t),o.label=2;case 2:return[2]}}))}));var e}:function(){return e=n,ot(void 0,void 0,void 0,(function(){var n,t,r,o,l;return lt(this,(function(a){switch(a.label){case 0:return(null==c?void 0:c.component)?(n=null===(r=null==i?void 0:i.component)||void 0===r?void 0:r.components.filter((function(n,t,r){return t!=e})),null!=(null==i?void 0:i.id)&&n&&i?((t=Object.assign({},null==c?void 0:c.component)).grid[null==i?void 0:i.id].components=n,[4,V(null===(o=null==c?void 0:c.component)||void 0===o?void 0:o.id,null===(l=null==c?void 0:c.component)||void 0===l?void 0:l.type,t.grid)]):[3,2]):[3,2];case 1:a.sent().loading||null==c||c.setComponent(t),a.label=2;case 2:return[2]}}))}));var e}}),o().createElement(d.Divider,null))})))},ct=function(e){var n;return e.organism.grid.length>1?(n=e.organism.grid,o().createElement(d.Grid,{container:!0,spacing:2},n.map((function(e,n){return o().createElement(d.Grid,{key:n,item:!0,xs:e.size},e.components.map((function(e,n){return"atoms"===e.type?o().createElement(nn,{key:n,component:e}):"molecules"===e.type?o().createElement(tn,{key:n,component:e}):void 0})))})))):1===e.organism.grid.length?12===e.organism.grid[0].size?o().createElement(o().Fragment,null,e.organism.grid[0].components.map((function(e,n){return"atoms"===e.type?o().createElement(nn,{key:n,component:e}):"molecules"===e.type?o().createElement(tn,{key:n,component:e}):void 0}))):o().createElement("div",null,"need grid"):o().createElement("div",{style:{color:"red"}},"Organism ",e.organism.name," is empty")},ut=function(){var e,n=(0,r.useContext)(Y);return o().createElement(o().Fragment,null,null===(e=null==n?void 0:n.template)||void 0===e?void 0:e.organisms.map((function(e,n){return o().createElement(ct,{key:n,organism:e})})))},st=function(e,n,t,r){return new(t||(t=Promise))((function(o,l){function a(e){try{c(r.next(e))}catch(e){l(e)}}function i(e){try{c(r.throw(e))}catch(e){l(e)}}function c(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,i)}c((r=r.apply(e,n||[])).next())}))},pt=function(e,n){var t,r,o,l,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return l={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function i(l){return function(i){return function(l){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,r&&(o=2&l[0]?r.return:l[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,l[1])).done)return o;switch(r=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return a.label++,{value:l[1],done:!1};case 5:a.label++,r=l[1],l=[0];continue;case 7:l=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==l[0]&&2!==l[0])){a=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){a.label=l[1];break}if(6===l[0]&&a.label<o[1]){a.label=o[1],o=l;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(l);break}o[2]&&a.ops.pop(),a.trys.pop();continue}l=n.call(e,a)}catch(e){l=[6,e],r=0}finally{t=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,i])}}},dt=function(e){return st(void 0,void 0,void 0,(function(){return pt(this,(function(n){switch(n.label){case 0:return[4,y(_+"/templates","POST",{name:e,organisms:[]})];case 1:return[2,n.sent()]}}))}))},ft=function(e,n,t,r){return new(t||(t=Promise))((function(o,l){function a(e){try{c(r.next(e))}catch(e){l(e)}}function i(e){try{c(r.throw(e))}catch(e){l(e)}}function c(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,i)}c((r=r.apply(e,n||[])).next())}))},mt=function(e,n){var t,r,o,l,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return l={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function i(l){return function(i){return function(l){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,r&&(o=2&l[0]?r.return:l[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,l[1])).done)return o;switch(r=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return a.label++,{value:l[1],done:!1};case 5:a.label++,r=l[1],l=[0];continue;case 7:l=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==l[0]&&2!==l[0])){a=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){a.label=l[1];break}if(6===l[0]&&a.label<o[1]){a.label=o[1],o=l;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(l);break}o[2]&&a.ops.pop(),a.trys.pop();continue}l=n.call(e,a)}catch(e){l=[6,e],r=0}finally{t=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,i])}}},vt=function(e){return ft(void 0,void 0,void 0,(function(){return mt(this,(function(n){switch(n.label){case 0:return[4,y(_+"/templates/"+e,"DELETE")];case 1:return[2,n.sent()]}}))}))},ht=function(){return ht=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},ht.apply(this,arguments)},yt=(0,d.styled)(d.Paper)((function(e){var n=e.theme;return ht(ht({},n.typography.body2),{padding:n.spacing(1),textAlign:"center",color:n.palette.text.secondary,boxShadow:"none",border:"solid 1px "+n.palette.primary.main,":hover":{backgroundColor:n.palette.primary.main,color:"white",cursor:"pointer"}})})),bt=(0,d.styled)(d.Paper)((function(e){var n=e.theme;return ht(ht({},n.typography.body2),{textAlign:"center",boxShadow:"none",border:"solid 1px "+n.palette.primary.main,backgroundColor:n.palette.primary.main,color:"white"})})),gt=function(e){return e.selected?o().createElement(bt,null,o().createElement(d.Grid,{container:!0},o().createElement(d.Grid,{item:!0,xs:8,style:{padding:8}},e.children," "),o().createElement(d.Grid,{item:!0,xs:4,style:{padding:0}},o().createElement(d.Button,{color:"inherit",onClick:function(){e.id&&e.deleteTemplate&&e.deleteTemplate(e.id)}},o().createElement(re(),{fontSize:"medium"}))))):o().createElement(yt,null,e.children)},Et=function(e,n,t,r){return new(t||(t=Promise))((function(o,l){function a(e){try{c(r.next(e))}catch(e){l(e)}}function i(e){try{c(r.throw(e))}catch(e){l(e)}}function c(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,i)}c((r=r.apply(e,n||[])).next())}))},wt=function(e,n){var t,r,o,l,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return l={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function i(l){return function(i){return function(l){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,r&&(o=2&l[0]?r.return:l[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,l[1])).done)return o;switch(r=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return a.label++,{value:l[1],done:!1};case 5:a.label++,r=l[1],l=[0];continue;case 7:l=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==l[0]&&2!==l[0])){a=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){a.label=l[1];break}if(6===l[0]&&a.label<o[1]){a.label=o[1],o=l;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(l);break}o[2]&&a.ops.pop(),a.trys.pop();continue}l=n.call(e,a)}catch(e){l=[6,e],r=0}finally{t=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,i])}}},xt=function(e,n,t){if(t||2===arguments.length)for(var r,o=0,l=n.length;o<l;o++)!r&&o in n||(r||(r=Array.prototype.slice.call(n,0,o)),r[o]=n[o]);return e.concat(r||Array.prototype.slice.call(n))},kt=function(){var e=(0,r.useContext)(Y),n=(0,r.useState)([]),t=n[0],l=n[1],a=(0,r.useState)(!0),i=a[0],c=a[1];(0,r.useEffect)((function(){Et(void 0,void 0,void 0,(function(){var e;return wt(this,(function(n){switch(n.label){case 0:return[4,kn()];case 1:return e=n.sent(),l(e.data),c(!1),[2]}}))}))}),[]);var u=function(n){return Et(void 0,void 0,void 0,(function(){var r,o;return wt(this,(function(a){switch(a.label){case 0:return[4,vt(n)];case 1:return r=a.sent(),o=t.filter((function(e){return e.id!=r.data.id})),l(xt([],o,!0)),null==e||e.setTemplate(null),[2]}}))}))},s=function(n){var t;return n.id===(null===(t=null==e?void 0:e.template)||void 0===t?void 0:t.id)};return o().createElement(o().Fragment,null,i&&o().createElement(f,null),o().createElement(d.Grid,{container:!0,spacing:2},t&&t.map((function(n){return o().createElement(d.Grid,{key:n.id,item:!0,xs:12,onClick:function(){return function(n){null==e||e.setTemplate(n)}(n)}},o().createElement(gt,{id:n.id,deleteTemplate:u,selected:s(n)},n.name))})),o().createElement(Bn,{components:"templates",createComponent:function(e){return Et(void 0,void 0,void 0,(function(){var n;return wt(this,(function(r){switch(r.label){case 0:return[4,dt(e)];case 1:return n=r.sent(),t.push(n.data),l(xt([],t,!0)),[2]}}))}))}})))},Ct=(0,r.createContext)(null),St=function(e){var n=(0,r.useState)(null),t=n[0],l=n[1],a=(0,r.useState)(null),i=a[0],c=a[1],u=(0,r.useMemo)((function(){return{component:t,setComponent:l,id:i,setId:c}}),[t,l,i,c]);return o().createElement(Ct.Provider,{value:u},e.children)},Pt=function(e,n,t,r){return new(t||(t=Promise))((function(o,l){function a(e){try{c(r.next(e))}catch(e){l(e)}}function i(e){try{c(r.throw(e))}catch(e){l(e)}}function c(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,i)}c((r=r.apply(e,n||[])).next())}))},Tt=function(e,n){var t,r,o,l,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return l={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function i(l){return function(i){return function(l){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,r&&(o=2&l[0]?r.return:l[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,l[1])).done)return o;switch(r=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return a.label++,{value:l[1],done:!1};case 5:a.label++,r=l[1],l=[0];continue;case 7:l=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==l[0]&&2!==l[0])){a=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){a.label=l[1];break}if(6===l[0]&&a.label<o[1]){a.label=o[1],o=l;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(l);break}o[2]&&a.ops.pop(),a.trys.pop();continue}l=n.call(e,a)}catch(e){l=[6,e],r=0}finally{t=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,i])}}},Gt=function(){var e=(0,r.useState)([]),n=e[0],t=e[1],l=(0,r.useState)(!0),c=l[0],u=l[1],s=(0,p.useRouteMatch)().path;return(0,r.useEffect)((function(){Pt(void 0,void 0,void 0,(function(){var e;return Tt(this,(function(n){switch(n.label){case 0:return[4,E()];case 1:return e=n.sent(),t(e.data),u(!1),[2]}}))}))}),[]),o().createElement(a.HelmetProvider,null,o().createElement(d.CssBaseline,null),o().createElement(i.BrowserRouter,null,c&&o().createElement(f,null),o().createElement(p.Switch,null,n.map((function(e,n){return o().createElement(p.Route,{key:n,path:s+"/"+e.route,exact:!0},o().createElement(a.Helmet,null,o().createElement("title",null,e.title),o().createElement("meta",{name:"description",content:"This is the Page"})),o().createElement(G,{page:e}))})))))};const Ot=[{path:"/",name:"Start",exact:!0,component:function(){return o().createElement(o().Fragment,null,o().createElement(a.Helmet,null,o().createElement("title",null,"Synergic"),o().createElement("meta",{name:"description",content:"Welcome to Synergic"})),o().createElement("div",{style:{position:"absolute",top:200,left:80}},o().createElement(d.Grow,rt({in:!0},{timeout:1500}),o().createElement(d.Typography,{variant:"h1",component:"h1"},"Synergic")),o().createElement(d.Grow,rt({in:!0},{timeout:1800}),o().createElement(d.Typography,{variant:"h2",component:"h2",color:"primary"},"Atomic Design Page Builder")),o().createElement(d.Grow,rt({in:!0},{timeout:2600}),o().createElement(d.Typography,{variant:"h5",component:"p"},"Bachelorthesis Project by Julian Klummer"))))}},{path:"/compound-editor",name:"Compounds",exact:!0,component:function(){return o().createElement(o().Fragment,null,o().createElement(a.Helmet,null,o().createElement("title",null,"Compound Editor"),o().createElement("meta",{name:"description",content:"This is the Compound Editor"})),o().createElement(N,null,o().createElement(U,null,o().createElement(pe,null,o().createElement(Le,{isCreateable:!0}),o().createElement(d.Grid,{container:!0,style:{minHeight:"70vh"}},o().createElement(d.Grid,{item:!0,xs:2},o().createElement(Ue,null,o().createElement(We,null),o().createElement(d.Divider,{variant:"fullWidth"}),o().createElement(De,null))),o().createElement(d.Grid,{item:!0,xs:10},o().createElement(pn,null)))))))}},{path:"/template-editor",name:"Templates",exact:!0,component:function(){return o().createElement(o().Fragment,null,o().createElement(a.Helmet,null,o().createElement("title",null,"Template Editor"),o().createElement("meta",{name:"description",content:"This is the Template Editor"})),o().createElement(J,null,o().createElement(St,null,o().createElement(Le,{organisms:!0}),o().createElement(d.Grid,{container:!0,style:{minHeight:"90vh"}},o().createElement(d.Grid,{item:!0,xs:2},o().createElement(Ue,null,o().createElement(d.Typography,{variant:"h6",component:"h3"},"Templates"),o().createElement(kt,null))),o().createElement(d.Grid,{item:!0,xs:8},o().createElement(ut,null)),o().createElement(Ye,null,o().createElement(it,null))))))}},{path:"/page-editor",name:"Pages",exact:!0,component:function(){return o().createElement(o().Fragment,null,o().createElement(a.Helmet,null,o().createElement("title",null,"Page Editor"),o().createElement("meta",{name:"description",content:"This is the Page Editor"})),o().createElement(fn,null,o().createElement(Yn,null,o().createElement(d.Grid,{container:!0,style:{minHeight:"90vh"}},o().createElement(d.Grid,{item:!0,xs:2},o().createElement(Ue,null,o().createElement(d.Typography,{variant:"h6",component:"h3"},"Pages"),o().createElement(Hn,null))),o().createElement(d.Grid,{item:!0,xs:10},o().createElement(Pn,null),o().createElement(tt,null))))))}},{path:"/website-preview",name:"Preview",exact:!1,component:function(){return o().createElement(Gt,null)}}];var At=function(){return o().createElement(o().Fragment,null,o().createElement(M,{routes:Ot}),o().createElement(i.Switch,null,Ot.map((function(e,n){var t=e.path,r=e.exact,l=e.component;return o().createElement(i.Route,{key:n,path:t,exact:r},function(e,n){return"/preview"!=e?n:o().createElement(j,null)}(t,l))})),o().createElement(i.Route,{key:"404",render:function(){return o().createElement(D,null)}})))},Ft=function(){return o().createElement("div",{style:{minHeight:"100vh"}},o().createElement(s,null,o().createElement(At,null)))},jt=t()();jt.use(t().static("public")),jt.get("*",(function(e,n){var t={},r=(0,l.renderToString)(o().createElement(a.HelmetProvider,{context:t},o().createElement(i.StaticRouter,{location:e.url},o().createElement(Ft,null))));n.send(function(e,n){return"\n<!DOCTYPE html>\n<html "+e.htmlAttributes.toString()+' lang="de">\n  <head>\n    '+e.title.toString()+"\n    "+e.meta.toString()+"\n    "+e.link.toString()+'\n    <meta charset="UTF-8">\n    <meta http-equiv="content-language” content="de-de”>\n    <meta name="viewport" content="width=device-width,initial-scale=1">\n    <link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png">\n    <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">\n    <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">\n    <link rel="manifest" href="/favicon/site.webmanifest">\n    <link rel="stylesheet" type="text/css" href="/app.css" media="screen">\n    <script src="/modernizr-webp.js"><\/script>\n  </head>\n  <body '+e.bodyAttributes.toString()+'>\n    <noscript>You need to enable JavaScript to run this app.</noscript>\n    <div id="app">'+n+'</div>\n  </body>\n  <script src="/client.js" defer><\/script>\n</html>\n'}(t.helmet,r))})),jt.listen(80,(function(){return console.log("App listening on port 80!")}))})();