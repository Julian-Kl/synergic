(()=>{"use strict";var e={n:t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},d:(t,n)=>{for(var a in n)e.o(n,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:n[a]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=require("react");var n=e.n(t);const a=require("express");var o=e.n(a);const r=require("react-dom/server"),l=require("react-router-dom"),i=require("@mui/material/CssBaseline");var m=e.n(i);const c=e=>n().createElement(n().Fragment,null,n().createElement(m(),null),e.children),s=require("react-helmet-async"),d=require("react-router"),p=require("@mui/material"),u=()=>n().createElement(p.Backdrop,{sx:{color:"#fff",zIndex:e=>e.zIndex.drawer+1},open:!0},n().createElement(p.CircularProgress,{color:"inherit"})),g="http://localhost:1338",E=async(e,t,n)=>{const a={mode:"cors",cache:"no-cache",credentials:"same-origin"};t&&Object.assign(a,{method:t}),n&&Object.assign(a,{headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});let o=!0;const r=await fetch(e,a);return o=!1,{data:await r.json(),loading:false}},h=require("@mui/icons-material/Check");var y=e.n(h);const x=e=>n().createElement(p.Paper,{elevation:3,style:{position:"absolute",border:"solid 1px rgba(25,118,210, 1)",borderRadius:2,padding:4}},n().createElement(p.Grid,{container:!0},n().createElement(p.Grid,{item:!0,xs:4,style:{padding:0}},n().createElement(p.Button,{color:"error",variant:"text",onClick:()=>e.saveCanges()},n().createElement(y(),{fontSize:"small"}))))),b={Headline:{name:"Headline",type:"atoms",props:{variant:["h1","h2","h3","h4","h5","h6"],element:["h1","h2","h3","h4","h5","h6"],text:"string"},defaultProps:{variant:"h1",element:"h1",text:"Lorem ipsum dolor sit amet"},component:e=>{const t=`headline headline-${e.variant}`;switch(e.element){default:return n().createElement("h1",{className:t},e.text);case"h2":return n().createElement("h2",{className:t},e.text);case"h3":return n().createElement("h3",{className:t},e.text);case"h4":return n().createElement("h4",{className:t},e.text);case"h5":return n().createElement("h5",{className:t},e.text);case"h6":return n().createElement("h6",{className:t},e.text)}},editableComponent:e=>{const[a,o]=(0,t.useState)(e.text),r=`headline headline-${e.variant} headline-editor`;return n().createElement(n().Fragment,null,n().createElement("textarea",{className:r,value:a,onChange:e=>o(e.target.value)}),n().createElement(x,{saveCanges:()=>e.saveChanges(a)}))}},Paragraph:{name:"Paragraph",type:"atoms",props:{text:"string"},defaultProps:{text:"Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet."},component:e=>n().createElement("p",{className:"paragraph"},e.text),editableComponent:e=>{const[a,o]=(0,t.useState)(e.text);return n().createElement(n().Fragment,null,n().createElement("textarea",{className:"paragraph paragraph-editor",value:a,onChange:e=>o(e.target.value),rows:10}),n().createElement(x,{saveCanges:()=>e.saveChanges(a)}))}}},v=e=>{const t=e.component.name;if(t in b){const a=b[t];return n().createElement(a.component,e.component.props)}return console.log(`Component with name ${e.component.name} not found`),n().createElement("div",null,"Error: ",`Component with name ${e.component.name} not found`)},C=e=>n().createElement(p.Grid,{item:!0,xs:e.gridItem.size},e.gridItem.components.map(((e,t)=>"grid"in e?n().createElement(f,{key:t,component:e}):"name"in e?n().createElement(v,{key:t,component:e}):void 0))),f=e=>n().createElement(p.Grid,{container:!0,spacing:2},e.component.grid.map(((e,t)=>n().createElement(C,{key:t,gridItem:e})))),S=e=>n().createElement(n().Fragment,null,e.page.content.map(((e,t)=>n().createElement(f,{key:t,component:e})))),k=e=>n().createElement(p.Box,{sx:{width:"100%",backgroundColor:"lightgray"}},n().createElement(p.Box,{sx:{maxWidth:240,marginLeft:2}},n().createElement(p.FormControl,{fullWidth:!0},n().createElement(p.InputLabel,{id:"demo-simple-select-label"},"Page"),n().createElement(p.Select,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:e.pageName,label:"Page",onChange:t=>e.setPageName(t.target.value)},e.pages.map((({name:t,route:a},o)=>n().createElement(p.MenuItem,{value:t,key:o,style:{padding:0}},n().createElement(l.Link,{to:`${e.url}/${a}`,style:{width:"100%",padding:"6px 16px 6px 16px"}},n().createElement(p.Typography,{variant:"body1",component:"span"},t))))))))),w=()=>{const[e,a]=(0,t.useState)([]),[o,r]=(0,t.useState)(!0),{path:i,url:m}=(0,d.useRouteMatch)(),c=(0,d.useLocation)(),[p,h]=n().useState("");return(0,t.useEffect)((()=>{(async()=>{const e=await E(`${g}/pages`);a(e.data),r(!1)})(),e.forEach((e=>{console.log(e.route),`${m}/${e.route}`===c.pathname&&h(e.name)}))}),[]),n().createElement(l.BrowserRouter,null,o&&n().createElement(u,null),n().createElement(k,{pageName:p,setPageName:h,pages:e,url:m}),n().createElement(d.Switch,null,e.map(((e,t)=>n().createElement(d.Route,{key:t,path:`${i}/${e.route}`,exact:!0},n().createElement(s.Helmet,null,n().createElement("title",null,e.title),n().createElement("meta",{name:"description",content:"This is the Page Editor"})),n().createElement(S,{page:e}))))))},$=require("@mui/material/Box");var T=e.n($);const P=require("@mui/material/Tab");var G=e.n(P);const z=require("@mui/material/Tabs");var A=e.n(z);const F=e=>{const t=(0,l.useLocation)();return n().createElement(T(),{sx:{maxWidth:"100%",borderBottom:2,borderColor:"divider"}},n().createElement(A(),{value:t.pathname,variant:"scrollable",scrollButtons:"auto","aria-label":"navbar"},e.routes.map((({path:e,name:t})=>n().createElement(G(),{key:e,label:t,component:l.Link,to:e,value:e})))))},B=()=>n().createElement("div",null,"Four Oh Four"),I=(0,t.createContext)(null),O=e=>{const[a,o]=(0,t.useState)(null),r=(0,t.useMemo)((()=>({component:a,setComponent:o})),[a,o]);return n().createElement(I.Provider,{value:r},e.children)},R=(0,t.createContext)(null),j=e=>{const[a,o]=(0,t.useState)(null),[r,l]=(0,t.useState)(null),i=(0,t.useMemo)((()=>({component:a,setComponent:o,id:r,setId:l})),[a,o,r,l]);return n().createElement(R.Provider,{value:i},e.children)},q=(0,t.createContext)(null),L=e=>{const[a,o]=(0,t.useState)(null),r=(0,t.useMemo)((()=>({template:a,setTemplate:o})),[a,o]);return n().createElement(q.Provider,{value:r},e.children)},H="http://localhost:1337",M=require("@mui/icons-material/Add");var N=e.n(M);const D=require("@mui/icons-material/Delete");var U=e.n(D);const W=(0,p.styled)(p.Paper)((({theme:e})=>({...e.typography.body2,padding:e.spacing(1),textAlign:"center",color:e.palette.text.secondary,boxShadow:"none",border:`solid 1px ${e.palette.primary.main}`,":hover":{backgroundColor:e.palette.primary.main,color:"white",cursor:"pointer"}}))),Y=(0,p.styled)(p.Paper)((({theme:e})=>({...e.typography.body2,textAlign:"center",boxShadow:"none",border:`solid 1px ${e.palette.primary.main}`,backgroundColor:e.palette.primary.main,color:"white"}))),J=(0,p.styled)(p.Paper)((({theme:e})=>({...e.typography.body2,textAlign:"center",boxShadow:"none",border:`solid 1px ${e.palette.secondary.main}`,backgroundColor:e.palette.secondary.main,color:"white"}))),_=e=>e.selected?n().createElement(Y,null,n().createElement(p.Grid,{container:!0},n().createElement(p.Grid,{item:!0,xs:8,style:{padding:8}},e.children," "),n().createElement(p.Grid,{item:!0,xs:4,style:{padding:0}},n().createElement(p.Button,{color:"inherit",onClick:()=>{e.id&&e.deleteComponent&&e.deleteComponent(e.id)}},n().createElement(U(),{fontSize:"medium"}))))):e.isAddAble?n().createElement(J,null,n().createElement(p.Grid,{container:!0},n().createElement(p.Grid,{item:!0,xs:8,style:{padding:8}},e.children," "),n().createElement(p.Grid,{item:!0,xs:4,style:{padding:0}},n().createElement(p.Button,{color:"inherit",onClick:()=>e.addComponentToCell(e.component)},n().createElement(N(),{fontSize:"medium"}))))):n().createElement(W,null,e.children),K=e=>n().createElement(n().Fragment,null,Object.keys(b).map((t=>n().createElement(p.Grid,{key:b[t].name,item:!0,xs:2},n().createElement(_,{isAddAble:e.isAddAble,addComponentToCell:e.addComponentToCell,component:b[t]},b[t].name))))),Q=(0,t.createContext)(null),V=e=>{const[a,o]=(0,t.useState)(null),[r,l]=(0,t.useState)(null),i=(0,t.useMemo)((()=>({component:a,setComponent:o,id:r,setId:l})),[a,o,r,l]);return n().createElement(Q.Provider,{value:i},e.children)},X=require("@mui/icons-material/AddCircle");var Z=e.n(X);const ee=require("@mui/system"),te=require("@mui/icons-material/Close");var ne=e.n(te);const ae=e=>{const[a,o]=(0,t.useState)(!1),[r,l]=(0,t.useState)("");return a?n().createElement(p.Grid,{item:!0,xs:"auto",style:{paddingBottom:16,paddingRight:16,backgroundColor:"lightGray",borderRadius:4}},n().createElement(ee.Box,{sx:{flexGrow:1}},n().createElement(p.Grid,{container:!0,spacing:2},n().createElement(p.Grid,{item:!0,xs:"auto"},n().createElement(p.TextField,{id:"outlined-basic",label:"Name",variant:"outlined",size:"small",onChange:e=>l(e.target.value)})),n().createElement(p.Grid,{item:!0,xs:"auto"},n().createElement(p.Button,{variant:"contained",color:"success",onClick:()=>{e.createComponent(r),o(!1)}},n().createElement(y(),{fontSize:"medium"})),n().createElement(p.Button,{variant:"contained",color:"error",onClick:()=>o(!1)},n().createElement(ne(),{fontSize:"medium"})))))):n().createElement(p.Grid,{item:!0,xs:3},n().createElement(p.Button,{variant:"contained",onClick:()=>{o(!0)}},n().createElement(Z(),{fontSize:"medium"})))},oe=e=>{const a=(0,t.useContext)(I),o=(0,t.useContext)(R),r=(0,t.useContext)(Q),[l,i]=(0,t.useState)([]),[m,c]=(0,t.useState)(!0);(0,t.useEffect)((()=>{(async()=>{const t=await E(`${H}/${e.components}`);i(t.data),c(!1)})()}),[]);const s=async t=>{if(t){const n=await E(`${H}/${e.components}/${t}`,"DELETE"),o=l.filter((function(e){return e.id!=n.data.id}));i([...o]),a?.setComponent(null),r?.setComponent(null),r?.setId(null)}},d=e=>e.id===a?.component?.id&&e.type===a?.component?.type;return n().createElement(n().Fragment,null,m&&n().createElement(u,null),l&&l.map(((t,l)=>n().createElement(p.Grid,{key:t.id,item:!0,xs:2,onClick:()=>(e=>{a?.setComponent(e),o?.setComponent(null),o?.setId(null),r?.setComponent(null),r?.setId(null)})(t)},n().createElement(_,{selected:d(t),deleteComponent:s,index:l,id:t.id,isAddAble:e.isAddAble&&!d(t),addComponentToCell:e.addComponentToCell,component:t},t.name)))),e.isCreateable&&n().createElement(ae,{components:e.components,createComponent:async t=>{if(t){const n=await E(`${H}/${e.components}`,"POST",{name:t,settings:[],grid:[]});l.push(n.data),i([...l])}}}))},re=e=>{const a=(0,t.useContext)(I),o=(0,t.useContext)(R),r=(0,t.useContext)(q),l=e=>!(!o?.component&&!r?.template)&&("molecules"===a?.component?.type&&"atoms"===e||("organisms"===a?.component?.type&&("atoms"===e||"molecules"===e)||"templates"===r?.template?.type)),i=async e=>{if(a?.component&&null!=o?.id){const t=Object.assign({},a?.component);"atoms"===e.type&&(e.props=e.defaultProps),t.grid[o?.id].components.push(e);(await E(`${H}/${a?.component?.type}/${a?.component?.id}`,"PUT",{grid:t.grid})).loading||a?.setComponent(t)}},m=async e=>{const t=Object.assign({},r?.template);t.organisms.push(e);(await E(`${H}/templates/${r?.template?.id}`,"PUT",{organisms:t.organisms})).loading||r?.setTemplate(t)};return"atoms"===e.components?n().createElement(p.Box,{sx:{flexGrow:1}},n().createElement(p.Grid,{container:!0,spacing:2},n().createElement(K,{isAddAble:l("atoms"),addComponentToCell:i}))):n().createElement(p.Box,{sx:{flexGrow:1}},n().createElement(p.Grid,{container:!0,spacing:2},n().createElement(oe,{components:e.components,isAddAble:l(e.components),addComponentToCell:a?.component?i:m,isCreateable:e.isCreateable})))};function le(e){const{children:t,value:a,index:o,...r}=e;return n().createElement("div",{role:"tabpanel",hidden:a!==o,id:`simple-tabpanel-${o}`,"aria-labelledby":`simple-tab-${o}`,style:{width:"100%",overflowY:"scroll"},...r},a===o&&n().createElement(T(),{sx:{p:3}},t))}function ie(e){return{id:`vertical-tab-${e}`,"aria-controls":`vertical-tabpanel-${e}`}}const me=e=>{const[t,a]=n().useState(e.organisms?2:0);return n().createElement(T(),{sx:{flexGrow:1,bgcolor:"background.paper",display:"flex",height:160,borderBottom:2,borderColor:"#1565c0"}},n().createElement(T(),null,n().createElement(A(),{value:t,onChange:(e,t)=>{a(t)},orientation:"vertical","aria-label":"component browser"},n().createElement(G(),{label:"Atoms",...ie(0),disabled:e.organisms}),n().createElement(G(),{label:"Molecules",...ie(1),disabled:e.organisms}),n().createElement(G(),{label:"Organisms",...ie(2)}))),n().createElement(le,{value:t,index:0},n().createElement(re,{components:"atoms",isCreateable:e.isCreateable})),n().createElement(le,{value:t,index:1},n().createElement(re,{components:"molecules",isCreateable:e.isCreateable})),n().createElement(le,{value:t,index:2},n().createElement(re,{components:"organisms",isCreateable:e.isCreateable})))},ce=require("@mui/material/Grid");var se=e.n(ce);const de=require("@mui/material/Paper");var pe=e.n(de);const ue=require("@mui/material/styles"),ge=(0,p.styled)(p.Paper)((({theme:e})=>({boxShadow:"none",":hover":{border:`solid 1px ${e.palette.primary.light}`},border:"solid 1px transparent",borderRadius:0}))),Ee=(0,p.styled)(p.Paper)((({theme:e})=>({boxShadow:"none",border:`solid 1px ${e.palette.primary.light}`,borderRadius:0}))),he=(0,p.styled)(p.Paper)((({theme:e})=>({boxShadow:"none",":hover":{border:`solid 1px ${e.palette.secondary.light}`},border:"solid 1px transparent",borderRadius:0}))),ye=(0,p.styled)(p.Paper)((({theme:e})=>({boxShadow:"none",border:`solid 1px ${e.palette.secondary.light}`,borderRadius:0}))),xe=e=>{const a=(0,t.useContext)(Q),o=()=>{const t=e.component.name;if(t in b){const a=b[t];return n().createElement(a.component,e.component.props)}console.log(`Component with name ${e.component.name} not found`)};return e.selectAble?e.selected&&a?.id===e.id&&"atoms"===a?.component?.type?n().createElement(ye,null,o()):n().createElement(he,{onClick:()=>{void 0!==e.id&&(a?.setComponent(e.component),a?.setId(e.id))}},o()):n().createElement(n().Fragment,null,o())},be=e=>{const a=(0,t.useContext)(Q),o=e=>n().createElement(n().Fragment,null,e.map(((e,t)=>{if("atoms"===e.type)return n().createElement(xe,{key:t,component:e,selectAble:!1})}))),r=()=>n().createElement("div",{style:{color:"red"}},"Molecule ",e.component.name," is empty or misses grid"),l=()=>{return e.component.grid.length>1?(t=e.component.grid,n().createElement(p.Grid,{container:!0,spacing:2},t.map(((e,t)=>n().createElement(p.Grid,{key:t,item:!0,xs:e.size},o(e.components)))))):1===e.component.grid.length&&12===e.component.grid[0].size?o(e.component.grid[0].components):r();var t};return e.selectAble?e.selected&&a?.id===e.id&&"molecules"===a?.component?.type?n().createElement(ye,null,l()):n().createElement(he,{onClick:()=>{void 0!==e.id&&(a?.setComponent(e.component),a?.setId(e.id))}},l()):n().createElement(n().Fragment,null,l())},ve=e=>e.components.length>0?n().createElement(n().Fragment,null,e.components.map(((t,a)=>"atoms"===t.type?n().createElement(xe,{key:a,component:t,selected:e.selected,selectAble:!0,id:a}):n().createElement(be,{key:a,selected:e.selected,component:t,selectAble:!0,id:a})))):n().createElement(p.Skeleton,{variant:"text",animation:!1}),Ce=e=>e.selected?n().createElement(Ee,null,n().createElement(ve,{components:e.gridElement.components,selected:e.selected})):n().createElement(ge,null,n().createElement(ve,{components:e.gridElement.components})),fe=(0,ue.styled)(pe())((({theme:e})=>({...e.typography.body2,color:e.palette.text.secondary,boxShadow:"none",padding:0,borderRadius:0}))),Se=()=>{const e=(0,t.useContext)(I),a=(0,t.useContext)(R),[o,r]=(0,t.useState)([]),[l,i]=(0,t.useState)(12);(0,t.useEffect)((()=>{void 0!==e?.component?.grid&&r(e?.component?.grid),"molecules"===e?.component?.type?i(6):"organisms"===e?.component?.type&&i(12)}),[e?.component]);return n().createElement(n().Fragment,null,e?.component&&n().createElement(n().Fragment,null,n().createElement(T(),{sx:{flexGrow:1}},n().createElement(se(),{container:!0,spacing:1},n().createElement(se(),{item:!0,xs:"auto"},n().createElement(p.Typography,{variant:"body1"},"Display Width")),n().createElement(se(),{item:!0,xs:2},n().createElement(p.Slider,{value:l,onChange:(e,t)=>{i(t)},step:1,marks:!0,min:1,max:12})))),n().createElement(se(),{container:!0,spacing:0,columns:12,style:{paddingTop:40,paddingLeft:0,height:700,backgroundColor:"lightgray",overflowY:"scroll"}},n().createElement(se(),{item:!0,xs:l,style:{marginLeft:"auto",marginRight:"auto"}},n().createElement(fe,null,n().createElement(T(),{sx:{flexGrow:1}},n().createElement(se(),{container:!0,spacing:0},e?.component?.grid&&e?.component?.grid.map(((e,t)=>a?.id!=t?n().createElement(se(),{key:t,item:!0,xs:e.size,onClick:()=>((e,t)=>{a?.setComponent(e),a?.setId(t)})(e,t)},n().createElement(Ce,{key:t,gridElement:e,selected:t===a?.id})):n().createElement(se(),{key:t,item:!0,xs:a?.component?.size},n().createElement(Ce,{key:t,gridElement:e,selected:t===a?.id})))),n().createElement(se(),{item:!0,xs:2,style:{display:"flex",justifyContent:"flex-start"}},n().createElement(p.Button,{variant:"contained",onClick:async()=>{null!=o?o.push({size:3,settings:[],components:[]}):r([{size:3,settings:[],components:[]}]);(await E(`${H}/${e?.component?.type}/${e?.component?.id}`,"PUT",{grid:o})).loading||r([...o])}},n().createElement(Z(),{fontSize:"medium"}))))))))))},ke=()=>{const e=(0,t.useContext)(I),a=(0,t.useContext)(R),o=(0,t.useContext)(Q),[r,l]=(0,t.useState)(null);(0,t.useEffect)((()=>{if("atoms"===o?.component?.type){const e=o?.component;e.name in b&&l(b[e.name].props)}}),[o?.component]);const i=t=>{let r="";if("atoms"===o?.component?.type)for(const e of Object.entries(o?.component?.props))e[0]===t.name&&(r=e[1]);return n().createElement(p.FormControl,{fullWidth:!0},n().createElement(p.InputLabel,{id:"demo-simple-select-label"},t.name),n().createElement(p.Select,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:r,label:t.name,onChange:n=>(async(t,n,o)=>{const r=Object.assign({},e?.component);if(null!=a?.id&&"atoms"===r.grid[a?.id].components[t].type){const e=r.grid[a?.id].components[t];e.props[n]=o,r.grid[a?.id].components[t]=e}(await E(`${H}/${e?.component?.type}/${e?.component?.id}`,"PUT",{grid:r.grid})).loading||e?.setComponent(r)})(o?.id,t.name,n.target.value)},t.values.map(((e,t)=>n().createElement(p.MenuItem,{value:e,key:t},e)))))};return n().createElement(n().Fragment,null,o?.component&&n().createElement(n().Fragment,null,n().createElement(p.Typography,{variant:"h6",component:"h3"},"atoms"===o?.component?.type?"Atom Settings":"Molecule Settings"),n().createElement(p.Typography,{variant:"body1",component:"p"},"Name: ",o?.component.name),(()=>{const e=[];if(r)for(const t of Object.entries(r))"object"==typeof t[1]&&e.push({name:t[0],values:t[1]});return e.map(((e,t)=>n().createElement(n().Fragment,{key:t},i(e))))})(),n().createElement(p.Divider,null),n().createElement(p.Button,{variant:"contained",color:"error",endIcon:n().createElement(U(),null),onClick:()=>{void 0!==o?.component&&(async t=>{const n=a?.component?.components.filter((function(e,n,a){return n!=t}));if(null!=a?.id&&n&&a){const t=Object.assign({},e?.component);t.grid[a?.id].components=n,(await E(`${H}/${e?.component?.type}/${e?.component?.id}`,"PUT",{grid:t.grid})).loading||e?.setComponent(t)}})(o?.id)}},"atoms"===o?.component?.type?"Delete Atom":"Delete Molecule")))},we=()=>{const e=(0,t.useContext)(R),a=(0,t.useContext)(I),[o,r]=(0,t.useState)([]),l=(0,t.useContext)(Q);(0,t.useEffect)((()=>{void 0!==a?.component?.grid&&r(a?.component?.grid)}));return n().createElement(n().Fragment,null,e?.component?.size&&n().createElement(n().Fragment,null,n().createElement(p.Typography,{variant:"h6",component:"h3"},"Cell Settings"),n().createElement(p.Divider,null),n().createElement(p.Typography,{variant:"body1",component:"p"},"GridSize"),n().createElement(p.Slider,{value:e?.component?.size,onChange:(t,n)=>(async(t,n)=>{if(e&&e.component){const o=Object.assign({},e.component);if(o.size=t,e.setComponent(o),null!=n){const t=Object.assign({},a?.component);t.grid[n]=e.component,(await E(`${H}/${a?.component?.type}/${a?.component?.id}`,"PUT",{grid:t.grid})).loading||a?.setComponent(t)}}})(n,e?.id),step:1,marks:!0,min:1,max:12}),n().createElement(p.Divider,null),n().createElement(p.Button,{variant:"contained",color:"error",endIcon:n().createElement(U(),null),onClick:()=>(async()=>{const t=o.filter((function(t,n,a){return n!=e?.id}));if(!(await E(`${H}/${a?.component?.type}/${a?.component?.id}`,"PUT",{grid:t})).loading){const n=Object.assign({},a?.component);n.grid=t,a?.setComponent(n),e?.setComponent(null),e?.setId(null),l?.setComponent(null),l?.setId(null)}})()},"Delete Cell")))},$e=(0,p.styled)(p.Paper)((({theme:e})=>({textAlign:"center",boxShadow:"none",borderRight:`solid 2px ${e.palette.primary.main}`,borderRadius:0,minHeight:"100%",padding:24}))),Te=(0,p.styled)(p.Paper)((({theme:e})=>({textAlign:"center",boxShadow:"none",borderLeft:`solid 2px ${e.palette.primary.main}`,borderRadius:0,minHeight:"100%",padding:24}))),Pe=(0,t.createContext)(null),Ge=e=>{const[a,o]=(0,t.useState)(null),r=(0,t.useMemo)((()=>({page:a,setPage:o})),[a,o]);return n().createElement(Pe.Provider,{value:r},e.children)},ze=()=>{const e=(0,t.useContext)(Pe),[a,o]=(0,t.useState)([]),[r,l]=(0,t.useState)(!0);(0,t.useEffect)((()=>{(async()=>{const e=await E(`${H}/templates`);o(e.data),l(!1)})()}),[]);const i=e=>{const t=e=>{return"atoms"===e.type?{name:(t=e).name,props:t.props}:"molecules"===e.type?(e=>{const t={grid:[]};return e.grid.map((e=>{const a={size:e.size,components:n(e.components)};t.grid.push(a)})),t})(e):void("organisms"===e.type&&console.log("error, componente is organism"));var t},n=e=>{const n=[];return e.map((e=>{const a=t(e);a&&n.push(a)})),n};return(e=>{const t=[];return e.map((e=>{const a={grid:[]};e.grid.map((e=>{const t={size:e.size,components:n(e.components)};a.grid.push(t)})),t.push(a)})),t})(e.organisms)},m=async t=>{const n=await(async e=>{const t=await E(`${H}/templates/${e}`,"GET");if(!t.loading)return t.data})(t.target.value),a=Object.assign({},e?.page);a.templateId=String(n.id),a.content=i(n),i(n);(await E(`${g}/pages/${e?.page?.id}`,"PUT",{templateId:a.templateId,content:a.content})).loading||e?.setPage(a)},c=async(t,n)=>{const a=Object.assign({},e?.page);a[t]=n;(await E(`${g}/pages/${e?.page?.id}`,"PUT",{[t]:a[t]})).loading||e?.setPage(a)};return n().createElement(n().Fragment,null,r&&n().createElement(u,null),e?.page&&n().createElement(p.Box,{sx:{flexGrow:1,bgcolor:"background.paper",display:"flex",height:"auto",padding:2,borderBottom:2,borderColor:"#1565c0"}},n().createElement(p.Box,{sx:{minWidth:120}},n().createElement(p.Typography,{variant:"h6",component:"h3"},"Settings")),n().createElement(p.Box,{sx:{minWidth:240}},n().createElement(p.FormControl,{fullWidth:!0},n().createElement(p.InputLabel,{id:"demo-simple-select-label"},"Template"),n().createElement(p.Select,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:e?.page?.templateId?e?.page?.templateId:"",label:"Template",onChange:e=>m(e)},a.map(((e,t)=>n().createElement(p.MenuItem,{key:t,value:e.id},e.name)))))),n().createElement(p.Box,{sx:{marginLeft:4}},n().createElement(p.TextField,{label:"Route",color:"primary",value:e?.page?.route?e?.page?.route:"",onChange:e=>c("route",e.target.value)})),n().createElement(p.Box,{sx:{marginLeft:4}},n().createElement(p.TextField,{label:"Title",color:"primary",value:e?.page?.title?e?.page?.title:"",onChange:e=>c("title",e.target.value)}))))},Ae=e=>{const[a,o]=(0,t.useState)(!1),[r,l]=(0,t.useState)("");return a?n().createElement(p.Grid,{item:!0,xs:12,style:{marginTop:32,paddingBottom:16,paddingTop:16,paddingRight:16,backgroundColor:"lightGray",borderRadius:4}},n().createElement(ee.Box,{sx:{flexGrow:1}},n().createElement(p.Grid,{container:!0,spacing:2},n().createElement(p.Grid,{item:!0,xs:12},n().createElement(p.TextField,{id:"outlined-basic",label:"Name",variant:"outlined",size:"small",onChange:e=>l(e.target.value)})),n().createElement(p.Grid,{item:!0,xs:12},n().createElement(p.Button,{variant:"contained",color:"success",onClick:()=>{e.createComponent(r),o(!1)}},n().createElement(y(),{fontSize:"medium"})),n().createElement(p.Button,{variant:"contained",color:"error",onClick:()=>o(!1)},n().createElement(ne(),{fontSize:"medium"})))))):n().createElement(p.Grid,{item:!0,xs:12},n().createElement(p.Button,{variant:"contained",onClick:()=>{o(!0)}},n().createElement(Z(),{fontSize:"medium"})))},Fe=(0,p.styled)(p.Paper)((({theme:e})=>({...e.typography.body2,padding:e.spacing(1),textAlign:"center",color:e.palette.text.secondary,boxShadow:"none",border:`solid 1px ${e.palette.primary.main}`,":hover":{backgroundColor:e.palette.primary.main,color:"white",cursor:"pointer"}}))),Be=(0,p.styled)(p.Paper)((({theme:e})=>({...e.typography.body2,textAlign:"center",boxShadow:"none",border:`solid 1px ${e.palette.primary.main}`,backgroundColor:e.palette.primary.main,color:"white"}))),Ie=e=>e.selected?n().createElement(Be,null,n().createElement(p.Grid,{container:!0},n().createElement(p.Grid,{item:!0,xs:8,style:{padding:8}},e.children," "),n().createElement(p.Grid,{item:!0,xs:4,style:{padding:0}},n().createElement(p.Button,{color:"inherit",onClick:()=>{e.id&&e.deletePage&&e.deletePage(e.id)}},n().createElement(U(),{fontSize:"medium"}))))):n().createElement(Fe,null,e.children),Oe=()=>{const e=(0,t.useContext)(Pe),[a,o]=(0,t.useState)([]),[r,l]=(0,t.useState)(!0);(0,t.useEffect)((()=>{(async()=>{const e=await E(`${g}/pages`);o(e.data),l(!1)})()}),[e]);const i=async t=>{if(t){const n=await E(`${g}/pages/${t}`,"DELETE"),r=a.filter((function(e){return e.id!=n.data.id}));o([...r]),e?.setPage(null)}},m=t=>t.id===e?.page?.id;return n().createElement(n().Fragment,null,r&&n().createElement(u,null),n().createElement(p.Grid,{container:!0,spacing:2},a&&a.map((t=>n().createElement(p.Grid,{key:t.id,item:!0,xs:12,onClick:()=>(t=>{e?.setPage(t)})(t)},n().createElement(Ie,{id:t.id,deletePage:i,selected:m(t)},t.name)))),n().createElement(Ae,{components:"templates",createComponent:async e=>{if(e){const t=await E(`${g}/pages`,"POST",{name:e,title:e,route:encodeURIComponent(e),template:"",structure:[],content:[]});a.push(t.data),o([...a])}}})))},Re=require("@mui/styled-engine");var je=e.n(Re);const qe=(0,t.createContext)(null),Le=e=>{const[a,o]=(0,t.useState)(null),[r,l]=(0,t.useState)(null),i=(0,t.useMemo)((()=>({atom:a,setAtom:o,locator:r,setLocator:l})),[a,o,r,l]);return n().createElement(qe.Provider,{value:i},e.children)},He=je()(p.Paper)((()=>({boxShadow:"none",":hover":{border:"solid 1px rgba(25,118,210, .5)"},border:"solid 1px transparent",borderRadius:0}))),Me=je()(p.Paper)((()=>({boxShadow:"none",border:"solid 1px rgba(25,118,210, .5)",borderRadius:0}))),Ne=e=>{const a=(0,t.useContext)(Pe),o=(0,t.useContext)(qe),r=()=>{o?.setAtom(e.component),o?.setLocator(e.locator)};return o?.locator===e.locator?n().createElement(Me,{onClick:r},(()=>{if(o?.atom){const t=o?.atom?.name;if(t in b){const r=b[t];if(a?.page){let t=a?.page;const l=[];let i;if(l.push(t),e.locator.forEach((e=>{t=t[e],l.push(t)})),"text"in t.props){i=r.editableComponent;const e=async e=>{t.props.text=e;const n=[...l].reverse();let r=t.props;n.forEach((e=>{r=e}));const i=r;(await E(`${g}/pages/${a?.page?.id}`,"PUT",{content:i.content})).loading||(a?.setPage(i),o.setAtom(null),o.setLocator(null))};t.props.saveChanges=e}else i=r.component;return n().createElement(i,t.props)}console.log("No page currently edited")}}})()):n().createElement(He,{onClick:r},(()=>{const t=e.component.name;if(t in b){const a=b[t];return n().createElement(a.component,e.component.props)}console.log(`Component with name ${e.component.name} not found`)})())},De=e=>n().createElement(p.Grid,{item:!0,xs:e.gridItem.size},e.gridItem.components.map(((t,a)=>"grid"in t?n().createElement(Ue,{key:a,component:t,locator:e.locator.concat(["components",a])}):"name"in t?n().createElement(Ne,{key:a,component:t,locator:e.locator.concat(["components",a])}):void 0))),Ue=e=>n().createElement(p.Grid,{container:!0,spacing:2},e.component.grid.map(((t,a)=>n().createElement(De,{key:a,gridItem:t,locator:e.locator.concat(["grid",a])})))),We=()=>{const e=(0,t.useContext)(Pe);return n().createElement(n().Fragment,null,e?.page?.content.map(((e,t)=>n().createElement(Ue,{key:t,component:e,locator:["content",t]}))))},Ye=require("react-tsparticles");var Je=e.n(Ye);const _e=(0,t.createContext)(null),Ke=e=>{const[a,o]=(0,t.useState)(null),[r,l]=(0,t.useState)(null),i=(0,t.useMemo)((()=>({component:a,setComponent:o,id:r,setId:l})),[a,o,r,l]);return n().createElement(_e.Provider,{value:i},e.children)},Qe=e=>{return e.organism.grid.length>1?(t=e.organism.grid,n().createElement(p.Grid,{container:!0,spacing:2},t.map(((e,t)=>n().createElement(p.Grid,{key:t,item:!0,xs:e.size},e.components.map(((e,t)=>"atoms"===e.type?n().createElement(xe,{key:t,component:e}):"molecules"===e.type?n().createElement(be,{key:t,component:e}):void 0))))))):1===e.organism.grid.length?12===e.organism.grid[0].size?n().createElement(n().Fragment,null,e.organism.grid[0].components.map(((e,t)=>"atoms"===e.type?n().createElement(xe,{key:t,component:e}):"molecules"===e.type?n().createElement(be,{key:t,component:e}):void 0))):n().createElement("div",null,"need grid"):n().createElement("div",{style:{color:"red"}},"Organism ",e.organism.name," is empty");var t},Ve=()=>{const e=(0,t.useContext)(q);(0,t.useContext)(_e);return n().createElement(n().Fragment,null,e?.template?.organisms.map(((e,t)=>n().createElement(Qe,{key:t,organism:e}))))},Xe=e=>n().createElement(p.Typography,{variant:"body1",component:"p",align:"left"},e.name,n().createElement(p.Button,{color:"inherit",variant:"text",onClick:()=>e.deleteFunction()},n().createElement(U(),{fontSize:"small"}))),Ze=()=>{const e=(0,t.useContext)(R),a=(0,t.useContext)(I),o=(0,t.useContext)(q);let r,l=[];e?.component?.components?(l=e?.component?.components,r=!1):o?.template?.organisms&&(l=o?.template?.organisms,r=!0);return n().createElement(n().Fragment,null,n().createElement(p.Typography,{variant:"h6",component:"h3"},"Cell Children"),n().createElement(p.Divider,null),l.map(((t,l)=>n().createElement(n().Fragment,{key:l},n().createElement(Xe,{name:t.name,id:l,deleteFunction:r?()=>(async e=>{if(o?.template){const t=o?.template?.organisms.filter((function(t,n,a){return n!=e})),n=Object.assign({},o?.template);n.organisms=t,(await E(`${H}/templates/${o?.template?.id}`,"PUT",{organisms:n.organisms})).loading||o?.setTemplate(n)}})(l):()=>(async t=>{const n=e?.component?.components.filter((function(e,n,a){return n!=t}));if(null!=e?.id&&n&&e){const t=Object.assign({},a?.component);t.grid[e?.id].components=n,(await E(`${H}/${a?.component?.type}/${a?.component?.id}`,"PUT",{grid:t.grid})).loading||a?.setComponent(t)}})(l)}),n().createElement(p.Divider,null)))))},et=(0,p.styled)(p.Paper)((({theme:e})=>({...e.typography.body2,padding:e.spacing(1),textAlign:"center",color:e.palette.text.secondary,boxShadow:"none",border:`solid 1px ${e.palette.primary.main}`,":hover":{backgroundColor:e.palette.primary.main,color:"white",cursor:"pointer"}}))),tt=(0,p.styled)(p.Paper)((({theme:e})=>({...e.typography.body2,textAlign:"center",boxShadow:"none",border:`solid 1px ${e.palette.primary.main}`,backgroundColor:e.palette.primary.main,color:"white"}))),nt=e=>e.selected?n().createElement(tt,null,n().createElement(p.Grid,{container:!0},n().createElement(p.Grid,{item:!0,xs:8,style:{padding:8}},e.children," "),n().createElement(p.Grid,{item:!0,xs:4,style:{padding:0}},n().createElement(p.Button,{color:"inherit",onClick:()=>{e.id&&e.deleteTemplate&&e.deleteTemplate(e.id)}},n().createElement(U(),{fontSize:"medium"}))))):n().createElement(et,null,e.children),at=()=>{const e=(0,t.useContext)(q),[a,o]=(0,t.useState)([]),[r,l]=(0,t.useState)(!0);(0,t.useEffect)((()=>{(async()=>{const e=await E(`${H}/templates`);o(e.data),l(!1)})()}),[]);const i=async t=>{if(t){const n=await E(`${H}/templates/${t}`,"DELETE"),r=a.filter((function(e){return e.id!=n.data.id}));o([...r]),e?.setTemplate(null)}},m=t=>t.id===e?.template?.id;return n().createElement(n().Fragment,null,r&&n().createElement(u,null),n().createElement(p.Grid,{container:!0,spacing:2},a&&a.map((t=>n().createElement(p.Grid,{key:t.id,item:!0,xs:12,onClick:()=>(t=>{e?.setTemplate(t)})(t)},n().createElement(nt,{id:t.id,deleteTemplate:i,selected:m(t)},t.name)))),n().createElement(Ae,{components:"templates",createComponent:async e=>{if(e){const t=await E(`${H}/templates`,"POST",{name:e,settings:[],organisms:[]});a.push(t.data),o([...a])}}})))},ot=[{path:"/",name:"Start",exact:!0,component:()=>n().createElement(n().Fragment,null,n().createElement(s.Helmet,null,n().createElement("title",null,"Synergic"),n().createElement("meta",{name:"description",content:"This is Home"})),n().createElement(Je(),{id:"tsparticles",options:{background:{color:{value:"#0d47a1"}},fpsLimit:60,interactivity:{detectsOn:"canvas",events:{onClick:{enable:!0,mode:"push"},onHover:{enable:!0,mode:"repulse"},resize:!0},modes:{bubble:{distance:400,duration:2,opacity:.8,size:40},push:{quantity:4},repulse:{distance:200,duration:.4}}},particles:{color:{value:"#ffffff"},links:{color:"#ffffff",distance:150,enable:!0,opacity:.5,width:1},collisions:{enable:!0},move:{direction:"none",enable:!0,outMode:"bounce",random:!1,speed:6,straight:!1},number:{density:{enable:!0,value_area:800},value:80},opacity:{value:.5},shape:{type:"circle"},size:{random:!0,value:5}},detectRetina:!0}}),n().createElement("div",{style:{position:"absolute",top:200,left:80}},n().createElement(p.Grow,{in:!0,timeout:1500},n().createElement(p.Typography,{variant:"h1",component:"h1"},"Synergic")),n().createElement(p.Grow,{in:!0,timeout:1800},n().createElement(p.Typography,{variant:"h2",component:"h2",color:"primary"},"Atomic Design Page Builder")),n().createElement(p.Grow,{in:!0,timeout:2600},n().createElement(p.Typography,{variant:"h5",component:"p"},"Bachelorthesis Project by Julian Klummer"))))},{path:"/components",name:"Components",exact:!0,component:()=>n().createElement(n().Fragment,null,n().createElement(s.Helmet,null,n().createElement("title",null,"Components"),n().createElement("meta",{name:"description",content:"This is the Component Editor"})),n().createElement(O,null,n().createElement(j,null,n().createElement(V,null,n().createElement(me,{isCreateable:!0}),n().createElement(p.Grid,{container:!0,style:{minHeight:"70vh"}},n().createElement(p.Grid,{item:!0,xs:2},n().createElement($e,null,n().createElement(we,null),n().createElement(p.Divider,{variant:"fullWidth"}),n().createElement(ke,null))),n().createElement(p.Grid,{item:!0,xs:10},n().createElement(Se,null)))))))},{path:"/templates",name:"Templates",exact:!0,component:()=>n().createElement(n().Fragment,null,n().createElement(s.Helmet,null,n().createElement("title",null,"Template Editor"),n().createElement("meta",{name:"description",content:"This is the Template Editor"})),n().createElement(L,null,n().createElement(Ke,null,n().createElement(me,{organisms:!0}),n().createElement(p.Grid,{container:!0,style:{minHeight:"90vh"}},n().createElement(p.Grid,{item:!0,xs:2},n().createElement($e,null,n().createElement(p.Typography,{variant:"h6",component:"h3"},"Templates"),n().createElement(at,null))),n().createElement(p.Grid,{item:!0,xs:8},n().createElement(Ve,null)),n().createElement(Te,null,n().createElement(Ze,null))))))},{path:"/pages",name:"Pages",exact:!0,component:()=>n().createElement(n().Fragment,null,n().createElement(s.Helmet,null,n().createElement("title",null,"Page Editor"),n().createElement("meta",{name:"description",content:"This is the Page Editor"})),n().createElement(Ge,null,n().createElement(Le,null,n().createElement(p.Grid,{container:!0,style:{minHeight:"90vh"}},n().createElement(p.Grid,{item:!0,xs:2},n().createElement($e,null,n().createElement(p.Typography,{variant:"h6",component:"h3"},"Pages"),n().createElement(Oe,null))),n().createElement(p.Grid,{item:!0,xs:10},n().createElement(ze,null),n().createElement(We,null))))))},{path:"/preview",name:"Preview",exact:!1,component:()=>{const[e,a]=(0,t.useState)([]),[o,r]=(0,t.useState)(!0),{path:i,url:m}=(0,d.useRouteMatch)();return(0,t.useEffect)((()=>{(async()=>{const e=await E(`${g}/pages`);a(e.data),r(!1)})()}),[]),n().createElement(s.HelmetProvider,null,n().createElement(p.CssBaseline,null),n().createElement(l.BrowserRouter,null,o&&n().createElement(u,null),n().createElement(d.Switch,null,e.map(((e,t)=>n().createElement(d.Route,{key:t,path:`${i}/${e.route}`,exact:!0},n().createElement(s.Helmet,null,n().createElement("title",null,e.title),n().createElement("meta",{name:"description",content:"This is the Page Editor"})),n().createElement(S,{page:e})))))))}}],rt=()=>n().createElement(n().Fragment,null,n().createElement(F,{routes:ot}),n().createElement(l.Switch,null,ot.map((({path:e,exact:t,component:a},o)=>n().createElement(l.Route,{key:o,path:e,exact:t},((e,t)=>"/preview"!=e?t:n().createElement(w,null))(e,a)))),n().createElement(l.Route,{key:"404",render:()=>n().createElement(B,null)}))),lt=()=>n().createElement("div",{style:{minHeight:"100vh"}},n().createElement(c,null,n().createElement(rt,null))),it=o()();it.use(o().static("public")),it.get("*",((e,t)=>{const a={},o=(0,r.renderToString)(n().createElement(s.HelmetProvider,{context:a},n().createElement(l.StaticRouter,{location:e.url},n().createElement(lt,null))));t.send(((e,t)=>`\n<!DOCTYPE html>\n<html ${e.htmlAttributes.toString()} lang="de">\n  <head>\n    ${e.title.toString()}\n    ${e.meta.toString()}\n    ${e.link.toString()}\n    <meta charset="UTF-8">\n    <meta http-equiv="content-language” content="de-de”>\n    <meta name="viewport" content="width=device-width,initial-scale=1">\n    <link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png">\n    <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">\n    <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">\n    <link rel="manifest" href="/favicon/site.webmanifest">\n    <link rel="stylesheet" type="text/css" href="/app.css" media="screen">\n    <script src="/modernizr-webp.js"><\/script>\n  </head>\n  <body ${e.bodyAttributes.toString()}>\n    <noscript>You need to enable JavaScript to run this app.</noscript>\n    <div id="app">${t}</div>\n  </body>\n  <script src="/client.js" defer><\/script>\n</html>\n`)(a.helmet,o))})),it.listen(80,(()=>console.log("App listening on port 80!")))})();